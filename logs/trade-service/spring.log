16:21:29:914  INFO 29600 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
16:21:29:914  INFO 29600 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
16:21:29:996  INFO 29600 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
16:21:29:999  INFO 29600 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
16:21:30:303  INFO 29600 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
16:21:30:304  INFO 29600 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@44800d1f[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
16:21:30:304  INFO 29600 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1730449278536_192.168.154.1_54274
16:21:30:309  INFO 29600 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@20c701a2[Running, pool size = 3, active threads = 0, queued tasks = 0, completed tasks = 10]
16:21:30:317  INFO 29600 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
16:21:30:327  INFO 29600 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
16:21:30:332  INFO 29600 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x42920f49, L:/192.168.154.1:54260 ! R:/192.168.154.128:8099]
16:21:30:332  INFO 29600 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x42920f49, L:/192.168.154.1:54260 ! R:/192.168.154.128:8099]
16:21:30:332  INFO 29600 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x42920f49, L:/192.168.154.1:54260 ! R:/192.168.154.128:8099]
16:21:30:332  INFO 29600 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x42920f49, L:/192.168.154.1:54260 ! R:/192.168.154.128:8099]
16:21:30:332  INFO 29600 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x42920f49, L:/192.168.154.1:54260 ! R:/192.168.154.128:8099]) will closed
16:21:30:332  INFO 29600 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x42920f49, L:/192.168.154.1:54260 ! R:/192.168.154.128:8099]) will closed
16:24:14:509  INFO 13684 --- [restartedMain] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
16:24:15:580  INFO 13684 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=84dd3782-9bc0-3e16-a79f-20b1e631aa17
16:24:15:644  INFO 13684 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:24:15:644  INFO 13684 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:24:15:645  INFO 13684 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:24:15:668  INFO 13684 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:24:15:671  INFO 13684 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:24:15:672  INFO 13684 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:24:15:672  INFO 13684 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$582/0x0000000800694c40] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:24:15:673  INFO 13684 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:24:15:675  INFO 13684 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:24:15:677  INFO 13684 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:24:15:678  INFO 13684 --- [restartedMain] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
16:24:15:718  INFO 13684 --- [restartedMain] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
16:24:15:722  INFO 13684 --- [restartedMain] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
16:24:15:761  INFO 13684 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
16:24:15:813  INFO 13684 --- [restartedMain] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
16:24:15:942  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 8a113546-7c56-46b5-a1e1-cfce8262dad9
16:24:15:942  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] RpcClient init label, labels = {module=naming, source=sdk}
16:24:15:943  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:24:15:943  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:24:15:944  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:24:15:944  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Try to connect to server on start up, server: {serverIp = '192.168.154.128', server main port = 8848}
16:24:16:074  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Success to connect to server [192.168.154.128:8848] on start up, connectionId = 1730449455935_192.168.154.1_54559
16:24:16:074  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:24:16:074  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$486/0x0000000800465840
16:24:16:074  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Notify connected event to listeners.
16:24:16:110  INFO 13684 --- [restartedMain] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
16:24:16:170  INFO 13684 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.154.128:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
16:24:16:305  INFO 13684 --- [restartedMain] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0xb1d09499, L:/192.168.154.1:54560 - R:/192.168.154.128:8099]
16:24:16:310  INFO 13684 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 39 ms, version:1.5.2,role:TMROLE,channel:[id: 0xb1d09499, L:/192.168.154.1:54560 - R:/192.168.154.128:8099]
16:24:16:310  INFO 13684 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
16:24:16:319  INFO 13684 --- [restartedMain] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
16:24:16:320  INFO 13684 --- [restartedMain] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
16:24:16:326  INFO 13684 --- [restartedMain] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
16:24:16:326  INFO 13684 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
16:24:16:326  INFO 13684 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
16:24:16:328  INFO 13684 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:24:16:502  INFO 13684 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:24:16:504  INFO 13684 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:24:16:614  INFO 13684 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Receive server push request, request = NotifySubscriberRequest, requestId = 845
16:24:16:616  INFO 13684 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Ack server push request, request = NotifySubscriberRequest, requestId = 845
16:24:16:902  INFO 13684 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
16:24:16:911  INFO 13684 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
16:24:16:912  INFO 13684 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
16:24:17:020  INFO 13684 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
16:24:17:020  INFO 13684 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2496 ms
16:24:17:347  WARN 13684 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
16:24:17:367  INFO 13684 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
16:24:17:652  INFO 13684 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
16:24:17:835  INFO 13684 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
16:24:17:882  INFO 13684 --- [restartedMain] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
16:24:17:882  INFO 13684 --- [restartedMain] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.154.128:3306/hm-trade
16:24:17:882  INFO 13684 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.154.128:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.154.128:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
16:24:17:895  INFO 13684 --- [restartedMain] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x96834a0d, L:/192.168.154.1:54566 - R:/192.168.154.128:8099]
16:24:17:895  INFO 13684 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 10 ms, version:1.5.2,role:RMROLE,channel:[id: 0x96834a0d, L:/192.168.154.1:54566 - R:/192.168.154.128:8099]
16:24:18:362  INFO 13684 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
16:24:18:420  INFO 13684 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$6b5e7c34] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
16:24:18:456  INFO 13684 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'pay-service' URL not provided. Will try picking an instance via load-balancing.
16:24:18:651  INFO 13684 --- [restartedMain] c.a.c.sentinel.SentinelWebMvcConfigurer  : [Sentinel Starter] register SentinelWebInterceptor with urlPatterns: [/**].
16:24:20:352  INFO 13684 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
16:24:20:434  INFO 13684 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
16:24:21:717  INFO 13684 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
16:24:21:900  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 49fd9d3f-9d00-4d00-a16c-62d3f8a220aa
16:24:21:900  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] RpcClient init label, labels = {module=naming, source=sdk}
16:24:21:900  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:24:21:900  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:24:21:901  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:24:21:901  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Try to connect to server on start up, server: {serverIp = '192.168.154.128', server main port = 8848}
16:24:22:018  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Success to connect to server [192.168.154.128:8848] on start up, connectionId = 1730449461895_192.168.154.1_54595
16:24:22:018  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:24:22:018  INFO 13684 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$486/0x0000000800465840
16:24:22:018  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Notify connected event to listeners.
16:24:22:034  INFO 13684 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
16:24:22:039  INFO 13684 --- [restartedMain] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.154.1:8085 register finished
16:24:22:574  INFO 13684 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Receive server push request, request = NotifySubscriberRequest, requestId = 846
16:24:22:575  INFO 13684 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Ack server push request, request = NotifySubscriberRequest, requestId = 846
16:24:23:123  INFO 13684 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
16:24:23:124  INFO 13684 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
16:24:23:127  INFO 13684 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
16:24:23:147  INFO 13684 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
16:24:23:206  INFO 13684 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.154.128:5672]
16:24:23:229  INFO 13684 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1fad41b9:0/SimpleConnection@49258e01 [delegate=amqp://hmall@192.168.154.128:5672//hmall, localPort= 54599]
16:24:23:294  INFO 13684 --- [restartedMain] com.hmall.trade.TradeApplication         : Started TradeApplication in 12.655 seconds (JVM running for 13.45)
16:24:23:299  INFO 13684 --- [restartedMain] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
16:24:23:299  INFO 13684 --- [restartedMain] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
16:24:23:300  INFO 13684 --- [restartedMain] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
16:24:23:311 DEBUG 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:24:23:327 DEBUG 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1852261552107941890(Long)
16:24:23:350 DEBUG 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:24:30:351  INFO 13684 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
16:24:30:351  INFO 13684 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
16:24:30:352  INFO 13684 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
16:24:30:490  INFO 13684 --- [http-nio-8085-exec-1] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@255b5a5
16:24:30:512  INFO 13684 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.154.128:8099:36608750783121687]
16:24:30:516 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=1533902&ids=100001320053 HTTP/1.1
16:24:30:516 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] user-info: 1
16:24:30:516 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
16:24:30:709 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- HTTP/1.1 200  (193ms)
16:24:30:709 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] connection: keep-alive
16:24:30:709 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] content-type: application/json
16:24:30:709 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] date: Fri, 01 Nov 2024 08:24:30 GMT
16:24:30:709 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] keep-alive: timeout=60
16:24:30:710 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] transfer-encoding: chunked
16:24:30:710 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] 
16:24:30:710 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] [{"id":"1533902","name":"新西兰进口牛奶 纽仕兰 3.5g蛋白质全脂牛奶 250ml*24整箱装纯牛奶","price":9700,"stock":9985,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t3526/295/888755633/189982/16ea21b4/5816dce5N70820f42.jpg!q70.jpg.webp","category":"牛奶","brand":"纽仕兰","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1},{"id":"100001320053","name":"一加手机6T 8GB+128GB 亮瓷黑 光感屏幕指纹 高通骁龙845 全面屏双摄游戏手机 全网通4G 双卡双待","price":1,"stock":9968,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/6425/40/3887/217009/5bd716e9E4886d5d8/b3da975f4047ded3.jpg!q70.jpg.webp","category":"手机","brand":"一加","spec":"{\"颜色\": \"黑色\"}","sold":20,"commentCount":0,"isAD":false,"status":1}]
16:24:30:710 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- END HTTP (799-byte body)
16:24:30:735 DEBUG 13684 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
16:24:30:884 DEBUG 13684 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1852265447336968194(Long), 9701(Integer), 3(Integer), 1(Long), 1(Integer)
16:24:30:969 DEBUG 13684 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
16:24:30:980 DEBUG 13684 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
16:24:30:981 DEBUG 13684 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1852265447336968194(Long), 1533902(Long), 1(Integer), 新西兰进口牛奶 纽仕兰 3.5g蛋白质全脂牛奶 250ml*24整箱装纯牛奶(String), {}(String), 9700(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t3526/295/888755633/189982/16ea21b4/5816dce5N70820f42.jpg!q70.jpg.webp(String)
16:24:30:982 DEBUG 13684 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1852265447336968194(Long), 100001320053(Long), 1(Integer), 一加手机6T 8GB+128GB 亮瓷黑 光感屏幕指纹 高通骁龙845 全面屏双摄游戏手机 全网通4G 双卡双待(String), {"颜色": "黑色"}(String), 1(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/6425/40/3887/217009/5bd716e9E4886d5d8/b3da975f4047ded3.jpg!q70.jpg.webp(String)
16:24:36:421  INFO 13684 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Receive server push request, request = NotifySubscriberRequest, requestId = 848
16:24:36:422  INFO 13684 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Ack server push request, request = NotifySubscriberRequest, requestId = 848
16:24:36:421  INFO 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.trade.listener.OrderCreateListener   : 监听到清空购物车的消息，用户ID：1，商品ID：(Body:'[1533902,100001320053]' MessageProperties [headers={userId=1}, contentType=text/plain, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=trade.topic, receivedRoutingKey=order.create, deliveryTag=1, consumerTag=amq.ctag-llPiYda1yXhVvafSWKE8BQ, consumerQueue=cart.clear.queue])
16:25:27:189  WARN 13684 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m9s252ms412µs700ns).
16:25:27:195  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel [id: 0x96834a0d, L:/192.168.154.1:54566 - R:/192.168.154.128:8099] read idle.
16:25:27:195  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel [id: 0xb1d09499, L:/192.168.154.1:54560 - R:/192.168.154.128:8099] read idle.
16:25:27:195  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0xb1d09499, L:/192.168.154.1:54560 - R:/192.168.154.128:8099]
16:25:27:195  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x96834a0d, L:/192.168.154.1:54566 - R:/192.168.154.128:8099]
16:25:27:195  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x96834a0d, L:/192.168.154.1:54566 - R:/192.168.154.128:8099]) will closed
16:25:27:195  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xb1d09499, L:/192.168.154.1:54560 - R:/192.168.154.128:8099]) will closed
16:25:27:200  INFO 13684 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Receive server push request, request = NotifySubscriberRequest, requestId = 849
16:25:29:032  INFO 13684 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Ack server push request, request = NotifySubscriberRequest, requestId = 849
16:25:29:033  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Server healthy check fail, currentConnection = 1730449455935_192.168.154.1_54559
16:25:29:033  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Try to reconnect to a new server, server is  not appointed, will choose a random server.
16:25:29:034  INFO 13684 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Receive server push request, request = ClientDetectionRequest, requestId = 855
16:25:29:034 ERROR 13684 --- [com.alibaba.nacos.client.naming.updater.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 49615 milliseconds, 369300 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@40bc7633[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@5a173a31, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@50741b09, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@b19ef44}}}}}]]
16:25:29:034  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xb1d09499, L:/192.168.154.1:54560 ! R:/192.168.154.128:8099]) will closed
16:25:29:034  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x96834a0d, L:/192.168.154.1:54566 ! R:/192.168.154.128:8099]) will closed
16:25:29:034  INFO 13684 --- [nacos-grpc-client-executor-22] com.alibaba.nacos.common.remote.client   : [aa7b3162-bc10-4f93-9a24-3f64d9f645b1_config-0] Receive server push request, request = ClientDetectionRequest, requestId = 854
16:25:29:034  INFO 13684 --- [nacos-grpc-client-executor-22] com.alibaba.nacos.common.remote.client   : [aa7b3162-bc10-4f93-9a24-3f64d9f645b1_config-0] Ack server push request, request = ClientDetectionRequest, requestId = 854
16:25:29:034  INFO 13684 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Ack server push request, request = ClientDetectionRequest, requestId = 855
16:25:29:034  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [aa7b3162-bc10-4f93-9a24-3f64d9f645b1_config-0] Server healthy check fail, currentConnection = 1730449454224_192.168.154.1_54552
16:25:29:034  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [aa7b3162-bc10-4f93-9a24-3f64d9f645b1_config-0] Try to reconnect to a new server, server is  not appointed, will choose a random server.
16:25:29:035 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
16:25:29:036  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x96834a0d, L:/192.168.154.1:54566 ! R:/192.168.154.128:8099]
16:25:29:036  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0xb1d09499, L:/192.168.154.1:54560 ! R:/192.168.154.128:8099]
16:25:29:036 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 64
16:25:29:043  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x96834a0d, L:/192.168.154.1:54566 ! R:/192.168.154.128:8099]
16:25:29:044  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x96834a0d, L:/192.168.154.1:54566 ! R:/192.168.154.128:8099]
16:25:29:044  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x96834a0d, L:/192.168.154.1:54566 ! R:/192.168.154.128:8099]) will closed
16:25:29:044  INFO 13684 --- [nacos-grpc-client-executor-11] c.a.n.c.remote.client.grpc.GrpcClient    : [1730449455935_192.168.154.1_54559]Ignore complete event,isRunning:false,isAbandon=false
16:25:29:044  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x96834a0d, L:/192.168.154.1:54566 ! R:/192.168.154.128:8099]) will closed
16:25:29:044  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x96834a0d, L:/192.168.154.1:54566 ! R:/192.168.154.128:8099]
16:25:29:045  INFO 13684 --- [nacos-grpc-client-executor-22] c.a.n.c.remote.client.grpc.GrpcClient    : [1730449454224_192.168.154.1_54552]Ignore complete event,isRunning:false,isAbandon=false
16:25:29:036 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
16:25:29:045  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x96834a0d, L:/192.168.154.1:54566 ! R:/192.168.154.128:8099]
16:25:29:046  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x96834a0d, L:/192.168.154.1:54566 ! R:/192.168.154.128:8099]
16:25:29:046  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0xb1d09499, L:/192.168.154.1:54560 ! R:/192.168.154.128:8099]
16:25:29:045 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
16:25:29:046  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x96834a0d, L:/192.168.154.1:54566 ! R:/192.168.154.128:8099]) will closed
16:25:29:046  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x96834a0d, L:/192.168.154.1:54566 ! R:/192.168.154.128:8099]) will closed
16:25:29:046 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:25:29:046 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"1533902","num":1},{"itemId":"100001320053","num":1}]
16:25:29:046 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (64-byte body)
16:25:29:046  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0xb1d09499, L:/192.168.154.1:54560 ! R:/192.168.154.128:8099]
16:25:29:046  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xb1d09499, L:/192.168.154.1:54560 ! R:/192.168.154.128:8099]) will closed
16:25:29:046  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xb1d09499, L:/192.168.154.1:54560 ! R:/192.168.154.128:8099]) will closed
16:25:29:046  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0xb1d09499, L:/192.168.154.1:54560 ! R:/192.168.154.128:8099]
16:25:29:046  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0xb1d09499, L:/192.168.154.1:54560 ! R:/192.168.154.128:8099]
16:25:29:046  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0xb1d09499, L:/192.168.154.1:54560 ! R:/192.168.154.128:8099]
16:25:29:046  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xb1d09499, L:/192.168.154.1:54560 ! R:/192.168.154.128:8099]) will closed
16:25:29:047  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xb1d09499, L:/192.168.154.1:54560 ! R:/192.168.154.128:8099]) will closed
16:25:35:879 ERROR 13684 --- [com.alibaba.nacos.client.naming.updater.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 5686 milliseconds, 350500 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@fd99aff[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@5a173a31, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@50741b09, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@b19ef44}}}}}]]
16:25:35:880  INFO 13684 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
16:25:35:879 ERROR 13684 --- [com.alibaba.nacos.client.naming.updater.1] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 5679 milliseconds, 263600 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@33b7209[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@5a173a31, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@50741b09, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@b19ef44}}}}}]]
16:25:35:879  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Server healthy check fail, currentConnection = 1730449461895_192.168.154.1_54595
16:25:35:881  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Try to reconnect to a new server, server is  not appointed, will choose a random server.
16:25:35:883  INFO 13684 --- [timeoutChecker_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.154.128:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
16:25:35:890  INFO 13684 --- [timeoutChecker_1_1] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x6312834d, L:/192.168.154.1:54707 - R:/192.168.154.128:8099]
16:25:35:890  INFO 13684 --- [timeoutChecker_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 4 ms, version:1.5.2,role:TMROLE,channel:[id: 0x6312834d, L:/192.168.154.1:54707 - R:/192.168.154.128:8099]
16:28:35:784  INFO 13684 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
16:28:35:784  INFO 13684 --- [timeoutChecker_2_1] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.154.128:3306/hm-trade
16:28:35:785  INFO 13684 --- [timeoutChecker_2_1] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.154.128:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.154.128:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
16:28:35:786  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel [id: 0x6312834d, L:/192.168.154.1:54707 - R:/192.168.154.128:8099] read idle.
16:28:35:786  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x6312834d, L:/192.168.154.1:54707 - R:/192.168.154.128:8099]
16:28:35:786  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6312834d, L:/192.168.154.1:54707 - R:/192.168.154.128:8099]) will closed
16:28:35:786  WARN 13684 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m8s596ms866µs100ns).
16:28:35:786  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6312834d, L:/192.168.154.1:54707 ! R:/192.168.154.128:8099]) will closed
16:28:35:786  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x6312834d, L:/192.168.154.1:54707 ! R:/192.168.154.128:8099]
16:28:35:786  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x6312834d, L:/192.168.154.1:54707 ! R:/192.168.154.128:8099]
16:28:35:786  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x6312834d, L:/192.168.154.1:54707 ! R:/192.168.154.128:8099]
16:28:35:786  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6312834d, L:/192.168.154.1:54707 ! R:/192.168.154.128:8099]) will closed
16:28:35:787  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6312834d, L:/192.168.154.1:54707 ! R:/192.168.154.128:8099]) will closed
16:28:35:787  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x6312834d, L:/192.168.154.1:54707 ! R:/192.168.154.128:8099]
16:28:35:787  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x6312834d, L:/192.168.154.1:54707 ! R:/192.168.154.128:8099]
16:28:35:787  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x6312834d, L:/192.168.154.1:54707 ! R:/192.168.154.128:8099]
16:28:35:787  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6312834d, L:/192.168.154.1:54707 ! R:/192.168.154.128:8099]) will closed
16:28:35:787  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6312834d, L:/192.168.154.1:54707 ! R:/192.168.154.128:8099]) will closed
16:28:35:793  WARN 13684 --- [AMQP Connection 192.168.154.128:5672] c.r.c.impl.ForgivingExceptionHandler     : An unexpected connection driver error occurred (Exception message: Connection reset)
16:28:35:795 ERROR 13684 --- [com.alibaba.nacos.client.remote.worker] c.a.n.c.remote.client.grpc.GrpcClient    : Server check fail, please check server 192.168.154.128 ,port 9848 is available , error ={}

java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 176898 milliseconds, 997900 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@c2b24f9[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@5a173a31, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@50741b09, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@b19ef44}}}}}]]
	at com.alibaba.nacos.shaded.com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:508) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.grpc.GrpcClient.serverCheck(GrpcClient.java:148) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.grpc.GrpcClient.connectToServer(GrpcClient.java:264) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.RpcClient.reconnect(RpcClient.java:522) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.RpcClient.lambda$start$2(RpcClient.java:370) ~[nacos-client-2.0.4.jar:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

16:28:35:810 ERROR 13684 --- [com.alibaba.nacos.client.remote.worker] c.a.n.c.remote.client.grpc.GrpcClient    : Server check fail, please check server 192.168.154.128 ,port 9848 is available , error ={}

java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 176898 milliseconds, 547900 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@b460a3d[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@5a173a31, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@50741b09, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@b19ef44}}}}}]]
	at com.alibaba.nacos.shaded.com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:508) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.grpc.GrpcClient.serverCheck(GrpcClient.java:148) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.grpc.GrpcClient.connectToServer(GrpcClient.java:264) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.RpcClient.reconnect(RpcClient.java:522) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.RpcClient.lambda$start$2(RpcClient.java:370) ~[nacos-client-2.0.4.jar:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

16:28:35:852  INFO 13684 --- [nacos-grpc-client-executor-15] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Receive server push request, request = NotifySubscriberRequest, requestId = 850
16:28:35:853  INFO 13684 --- [nacos-grpc-client-executor-15] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Ack server push request, request = NotifySubscriberRequest, requestId = 850
16:28:35:854 ERROR 13684 --- [com.alibaba.nacos.client.remote.worker] c.a.n.c.remote.client.grpc.GrpcClient    : Server check fail, please check server 192.168.154.128 ,port 9848 is available , error ={}

java.util.concurrent.TimeoutException: Waited 3000 milliseconds (plus 176900 milliseconds, 680900 nanoseconds delay) for com.alibaba.nacos.shaded.io.grpc.stub.ClientCalls$GrpcFuture@2b41defb[status=PENDING, info=[GrpcFuture{clientCall={delegate={delegate=ClientCallImpl{method=MethodDescriptor{fullMethodName=Request/request, type=UNARY, idempotent=false, safe=false, sampledToLocalTracing=true, requestMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@5a173a31, responseMarshaller=com.alibaba.nacos.shaded.io.grpc.protobuf.lite.ProtoLiteUtils$MessageMarshaller@50741b09, schemaDescriptor=com.alibaba.nacos.api.grpc.auto.RequestGrpc$RequestMethodDescriptorSupplier@b19ef44}}}}}]]
	at com.alibaba.nacos.shaded.com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:508) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.grpc.GrpcClient.serverCheck(GrpcClient.java:148) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.grpc.GrpcClient.connectToServer(GrpcClient.java:264) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.RpcClient.reconnect(RpcClient.java:522) ~[nacos-client-2.0.4.jar:na]
	at com.alibaba.nacos.common.remote.client.RpcClient.lambda$start$2(RpcClient.java:370) ~[nacos-client-2.0.4.jar:na]
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

16:28:35:857  WARN 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.

org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.hmall.trade.listener.OrderCreateListener.listenPaySuccess(java.lang.String,org.springframework.amqp.core.Message)' threw exception
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:272) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:209) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1722) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1641) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1629) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1620) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1564) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:994) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:941) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:86) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1323) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1225) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]
Caused by: java.lang.IllegalArgumentException: Source to convert from must be an instance of [@org.springframework.web.bind.annotation.RequestParam java.lang.Long]; instead it was a [java.lang.Integer]
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:188) ~[spring-core-5.3.31.jar:5.3.31]
	at org.springframework.cloud.openfeign.support.SpringMvcContract$ConvertingExpanderFactory.lambda$getExpander$0(SpringMvcContract.java:428) ~[spring-cloud-openfeign-core-3.1.9.jar:3.1.9]
	at feign.ReflectiveFeign$BuildTemplateByResolvingArgs.expandIterable(ReflectiveFeign.java:273) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$BuildTemplateByResolvingArgs.expandElements(ReflectiveFeign.java:264) ~[feign-core-11.10.jar:na]
	at feign.ReflectiveFeign$BuildTemplateByResolvingArgs.create(ReflectiveFeign.java:224) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:86) ~[feign-core-11.10.jar:na]
	at com.alibaba.cloud.sentinel.feign.SentinelInvocationHandler.invoke(SentinelInvocationHandler.java:109) ~[spring-cloud-starter-alibaba-sentinel-2021.0.4.0.jar:2021.0.4.0]
	at com.sun.proxy.$Proxy152.deleteCartItemByIds(Unknown Source) ~[na:na]
	at com.hmall.trade.listener.OrderCreateListener.listenPaySuccess(OrderCreateListener.java:44) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.31.jar:5.3.31]
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.31.jar:5.3.31]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:77) ~[spring-rabbit-2.4.17.jar:2.4.17]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:263) ~[spring-rabbit-2.4.17.jar:2.4.17]
	... 13 common frames omitted

16:28:35:860  INFO 13684 --- [timeoutChecker_2_1] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0xe2b66fc3, L:/192.168.154.1:54918 - R:/192.168.154.128:8099]
16:28:35:860  INFO 13684 --- [timeoutChecker_2_1] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 58 ms, version:1.5.2,role:RMROLE,channel:[id: 0xe2b66fc3, L:/192.168.154.1:54918 - R:/192.168.154.128:8099]
16:28:35:861  INFO 13684 --- [nacos-grpc-client-executor-16] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Receive server push request, request = NotifySubscriberRequest, requestId = 851
16:28:35:862  INFO 13684 --- [nacos-grpc-client-executor-16] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Ack server push request, request = NotifySubscriberRequest, requestId = 851
16:28:35:865  WARN 13684 --- [Thread-8] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
16:28:35:865  WARN 13684 --- [Thread-8] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
16:28:35:866  INFO 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.a.r.l.SimpleMessageListenerContainer : Restarting Consumer@2da0f39f: tags=[[amq.ctag-llPiYda1yXhVvafSWKE8BQ]], channel=Cached Rabbit Channel: AMQChannel(amqp://hmall@192.168.154.128:5672//hmall,1), conn: Proxy@b175097 Shared Rabbit Connection: SimpleConnection@49258e01 [delegate=amqp://hmall@192.168.154.128:5672//hmall, localPort= 54599], acknowledgeMode=AUTO local queue size=0
16:28:35:866  WARN 13684 --- [Thread-4] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
16:28:35:866  INFO 13684 --- [nacos-grpc-client-executor-17] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Receive server push request, request = NotifySubscriberRequest, requestId = 852
16:28:35:867  INFO 13684 --- [nacos-grpc-client-executor-17] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Ack server push request, request = NotifySubscriberRequest, requestId = 852
16:28:35:867  WARN 13684 --- [Thread-4] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
16:28:35:871  INFO 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
16:28:35:871  INFO 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
16:28:35:872  INFO 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-3] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
16:28:35:872  INFO 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
16:28:35:872  INFO 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
16:28:35:872  INFO 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
16:28:35:872  INFO 13684 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Receive server push request, request = ClientDetectionRequest, requestId = 853
16:28:35:873  INFO 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.154.128:5672]
16:28:35:873  INFO 13684 --- [nacos-grpc-client-executor-18] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Ack server push request, request = ClientDetectionRequest, requestId = 853
16:28:35:874  INFO 13684 --- [nacos-grpc-client-executor-18] c.a.n.c.remote.client.grpc.GrpcClient    : [1730449461895_192.168.154.1_54595]Ignore complete event,isRunning:false,isAbandon=false
16:28:35:880  INFO 13684 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1fad41b9:1/SimpleConnection@555ee842 [delegate=amqp://hmall@192.168.154.128:5672//hmall, localPort= 54922]
16:28:36:017 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 500  (186971ms)
16:28:36:017 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: close
16:28:36:017 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-type: application/json
16:28:36:017 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 01 Nov 2024 08:28:36 GMT
16:28:36:017 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] transfer-encoding: chunked
16:28:36:018 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:28:36:018 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] {"timestamp":"2024-11-01T08:28:36.012+00:00","status":500,"error":"Internal Server Error","trace":"org.springframework.transaction.TransactionSystemException: JDBC commit failed; nested exception is java.sql.SQLException: io.seata.core.exception.RmTransactionException: Response[ TransactionException[Could not register branch into global session xid = 192.168.154.128:8099:36608750783121687 status = TimeoutRollbacking while expecting Begin] ]\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.translateException(DataSourceTransactionManager.java:439)\r\n\tat org.springframework.jdbc.support.JdbcTransactionManager.translateException(JdbcTransactionManager.java:188)\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doCommit(DataSourceTransactionManager.java:340)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707)\r\n\tat com.hmall.item.service.impl.ItemServiceImpl$$EnhancerBySpringCGLIB$$a884ae03.deductStock(<generated>)\r\n\tat com.hmall.item.controller.ItemController.deductStock(ItemController.java:82)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:558)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.sql.SQLException: io.seata.core.exception.RmTransactionException: Response[ TransactionException[Could not register branch into global session xid = 192.168.154.128:8099:36608750783121687 status = TimeoutRollbacking while expecting Begin] ]\r\n\tat io.seata.rm.datasource.ConnectionProxy.recognizeLockKeyConflictException(ConnectionProxy.java:161)\r\n\tat io.seata.rm.datasource.ConnectionProxy.processGlobalTransactionCommit(ConnectionProxy.java:252)\r\n\tat io.seata.rm.datasource.ConnectionProxy.doCommit(ConnectionProxy.java:230)\r\n\tat io.seata.rm.datasource.ConnectionProxy.lambda$commit$0(ConnectionProxy.java:188)\r\n\tat io.seata.rm.datasource.ConnectionProxy$LockRetryPolicy.doRetryOnLockConflict(ConnectionProxy.java:355)\r\n\tat io.seata.rm.datasource.ConnectionProxy$LockRetryPolicy.execute(ConnectionProxy.java:347)\r\n\tat io.seata.rm.datasource.ConnectionProxy.commit(ConnectionProxy.java:187)\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doCommit(DataSourceTransactionManager.java:337)\r\n\t... 60 more\r\nCaused by: io.seata.core.exception.RmTransactionException: Response[ TransactionException[Could not register branch into global session xid = 192.168.154.128:8099:36608750783121687 status = TimeoutRollbacking while expecting Begin] ]\r\n\tat io.seata.rm.AbstractResourceManager.branchRegister(AbstractResourceManager.java:69)\r\n\tat io.seata.rm.DefaultResourceManager.branchRegister(DefaultResourceManager.java:96)\r\n\tat io.seata.rm.datasource.ConnectionProxy.register(ConnectionProxy.java:273)\r\n\tat io.seata.rm.datasource.ConnectionProxy.processGlobalTransactionCommit(ConnectionProxy.java:250)\r\n\t... 66 more\r\n","message":"JDBC commit failed; nested exception is java.sql.SQLException: io.seata.core.exception.RmTransactionException: Response[ TransactionException[Could not register branch into global session xid = 192.168.154.128:8099:36608750783121687 status = TimeoutRollbacking while expecting Begin] ]","path":"/items/stock/deduct"}
16:28:36:018 DEBUG 13684 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (8963-byte body)
16:28:36:026 ERROR 13684 --- [http-nio-8085-exec-1] c.h.a.c.f.ItemClientFallbackFactory      : 扣减商品库存失败！

feign.FeignException$InternalServerError: [500 ] during [PUT] to [http://item-service/items/stock/deduct] [ItemClient#deductStock(List)]: [{"timestamp":"2024-11-01T08:28:36.012+00:00","status":500,"error":"Internal Server Error","trace":"org.springframework.transaction.TransactionSystemException: JDBC commit failed; nested exception is j... (8963 bytes)]
	at feign.FeignException.serverErrorStatus(FeignException.java:250) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:197) ~[feign-core-11.10.jar:na]
	at feign.FeignException.errorStatus(FeignException.java:185) ~[feign-core-11.10.jar:na]
	at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:92) ~[feign-core-11.10.jar:na]
	at feign.AsyncResponseHandler.handleResponse(AsyncResponseHandler.java:98) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:141) ~[feign-core-11.10.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:91) ~[feign-core-11.10.jar:na]
	at com.alibaba.cloud.sentinel.feign.SentinelInvocationHandler.invoke(SentinelInvocationHandler.java:109) ~[spring-cloud-starter-alibaba-sentinel-2021.0.4.0.jar:2021.0.4.0]
	at com.sun.proxy.$Proxy139.deductStock(Unknown Source) ~[na:na]
	at com.hmall.trade.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:117) ~[classes/:na]
	at com.hmall.trade.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$863dd453.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor$2.execute(GlobalTransactionalInterceptor.java:205) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.tm.api.TransactionalTemplate.execute(TransactionalTemplate.java:127) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.handleGlobalTransaction(GlobalTransactionalInterceptor.java:202) ~[seata-all-1.5.2.jar:1.5.2]
	at io.seata.spring.annotation.GlobalTransactionalInterceptor.invoke(GlobalTransactionalInterceptor.java:172) ~[seata-all-1.5.2.jar:1.5.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762) ~[spring-aop-5.3.31.jar:5.3.31]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:707) ~[spring-aop-5.3.31.jar:5.3.31]
	at com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$6b5e7c34.createOrder(<generated>) ~[classes/:na]
	at com.hmall.trade.controller.OrderController.createOrder(OrderController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.31.jar:5.3.31]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623) ~[tomcat-embed-core-9.0.83.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.31.jar:5.3.31]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.31.jar:5.3.31]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1794) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.83.jar:9.0.83]
	at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]

16:28:36:028  INFO 13684 --- [http-nio-8085-exec-1] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
16:28:36:028  INFO 13684 --- [http-nio-8085-exec-1] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.154.128:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
16:28:36:031  INFO 13684 --- [http-nio-8085-exec-1] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0xf5687d2f, L:/192.168.154.1:54927 - R:/192.168.154.128:8099]
16:28:36:031  INFO 13684 --- [http-nio-8085-exec-1] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 2 ms, version:1.5.2,role:TMROLE,channel:[id: 0xf5687d2f, L:/192.168.154.1:54927 - R:/192.168.154.128:8099]
16:28:36:042  INFO 13684 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.154.128:8099:36608750783121687
16:28:36:042  INFO 13684 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.154.128:8099:36608750783121687] rollback status: TimeoutRollbacking
16:28:36:062  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Success to connect a server [192.168.154.128:8848], connectionId = 1730449715940_192.168.154.1_54925
16:28:36:062  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Abandon prev connection, server is 192.168.154.128:8848, connectionId is 1730449455935_192.168.154.1_54559
16:28:36:062  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1730449455935_192.168.154.1_54559
16:28:36:062  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Notify disconnected event to listeners
16:28:36:063  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [8a113546-7c56-46b5-a1e1-cfce8262dad9] Notify connected event to listeners.
16:28:36:066  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Success to connect a server [192.168.154.128:8848], connectionId = 1730449715946_192.168.154.1_54924
16:28:36:066  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Abandon prev connection, server is 192.168.154.128:8848, connectionId is 1730449461895_192.168.154.1_54595
16:28:36:066  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1730449461895_192.168.154.1_54595
16:28:36:066  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Notify disconnected event to listeners
16:28:36:066  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Notify connected event to listeners.
16:28:36:069  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [aa7b3162-bc10-4f93-9a24-3f64d9f645b1_config-0] Success to connect a server [192.168.154.128:8848], connectionId = 1730449715947_192.168.154.1_54926
16:28:36:069  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [aa7b3162-bc10-4f93-9a24-3f64d9f645b1_config-0] Abandon prev connection, server is 192.168.154.128:8848, connectionId is 1730449454224_192.168.154.1_54552
16:28:36:069  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1730449454224_192.168.154.1_54552
16:28:36:069  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [aa7b3162-bc10-4f93-9a24-3f64d9f645b1_config-0] Notify disconnected event to listeners
16:28:36:070  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [49fd9d3f-9d00-4d00-a16c-62d3f8a220aa] Server check success, currentServer is 192.168.154.128:8848 
16:28:36:070  INFO 13684 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [aa7b3162-bc10-4f93-9a24-3f64d9f645b1_config-0] Notify connected event to listeners.
16:28:36:166  INFO 13684 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
16:28:36:171  INFO 13684 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
16:28:36:479  INFO 13684 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
16:28:36:479  INFO 13684 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@269bb0b5[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
16:28:36:479  INFO 13684 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1730449715946_192.168.154.1_54924
16:28:36:479  INFO 13684 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@5587624b[Running, pool size = 14, active threads = 0, queued tasks = 0, completed tasks = 26]
16:28:36:491  INFO 13684 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
16:28:36:505  INFO 13684 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
16:28:36:510  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0xf5687d2f, L:/192.168.154.1:54927 ! R:/192.168.154.128:8099]
16:28:36:511  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0xf5687d2f, L:/192.168.154.1:54927 ! R:/192.168.154.128:8099]
16:28:36:511  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0xf5687d2f, L:/192.168.154.1:54927 ! R:/192.168.154.128:8099]
16:28:36:511  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0xf5687d2f, L:/192.168.154.1:54927 ! R:/192.168.154.128:8099]
16:28:36:511  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xf5687d2f, L:/192.168.154.1:54927 ! R:/192.168.154.128:8099]) will closed
16:28:36:511  INFO 13684 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xf5687d2f, L:/192.168.154.1:54927 ! R:/192.168.154.128:8099]) will closed
16:28:36:512  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0xe2b66fc3, L:/192.168.154.1:54918 ! R:/192.168.154.128:8099]
16:28:36:512  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0xe2b66fc3, L:/192.168.154.1:54918 ! R:/192.168.154.128:8099]
16:28:36:512  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0xe2b66fc3, L:/192.168.154.1:54918 ! R:/192.168.154.128:8099]
16:28:36:512  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0xe2b66fc3, L:/192.168.154.1:54918 ! R:/192.168.154.128:8099]
16:28:36:512  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xe2b66fc3, L:/192.168.154.1:54918 ! R:/192.168.154.128:8099]) will closed
16:28:36:512  INFO 13684 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xe2b66fc3, L:/192.168.154.1:54918 ! R:/192.168.154.128:8099]) will closed
16:29:16:794  INFO 28972 --- [restartedMain] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
16:29:17:900  INFO 28972 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=84dd3782-9bc0-3e16-a79f-20b1e631aa17
16:29:17:962  INFO 28972 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:29:17:962  INFO 28972 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:29:17:962  INFO 28972 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:29:17:983  INFO 28972 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:29:17:987  INFO 28972 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:29:17:989  INFO 28972 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:29:17:990  INFO 28972 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$582/0x000000080068cc40] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:29:17:991  INFO 28972 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:29:17:994  INFO 28972 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:29:17:996  INFO 28972 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:29:17:999  INFO 28972 --- [restartedMain] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
16:29:18:045  INFO 28972 --- [restartedMain] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
16:29:18:048  INFO 28972 --- [restartedMain] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
16:29:18:093  INFO 28972 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
16:29:18:150  INFO 28972 --- [restartedMain] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
16:29:18:281  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of ec7bf671-d506-40e5-bd81-0bf119598dc9
16:29:18:282  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [ec7bf671-d506-40e5-bd81-0bf119598dc9] RpcClient init label, labels = {module=naming, source=sdk}
16:29:18:283  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [ec7bf671-d506-40e5-bd81-0bf119598dc9] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:29:18:283  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [ec7bf671-d506-40e5-bd81-0bf119598dc9] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:29:18:283  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [ec7bf671-d506-40e5-bd81-0bf119598dc9] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:29:18:283  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [ec7bf671-d506-40e5-bd81-0bf119598dc9] Try to connect to server on start up, server: {serverIp = '192.168.154.128', server main port = 8848}
16:29:18:400  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [ec7bf671-d506-40e5-bd81-0bf119598dc9] Success to connect to server [192.168.154.128:8848] on start up, connectionId = 1730449758275_192.168.154.1_55008
16:29:18:400  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [ec7bf671-d506-40e5-bd81-0bf119598dc9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:29:18:400  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [ec7bf671-d506-40e5-bd81-0bf119598dc9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$486/0x000000080045d840
16:29:18:400  INFO 28972 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [ec7bf671-d506-40e5-bd81-0bf119598dc9] Notify connected event to listeners.
16:29:18:434  INFO 28972 --- [restartedMain] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
16:29:18:499  INFO 28972 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.154.128:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
16:29:18:655  INFO 28972 --- [restartedMain] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x9e841dd3, L:/192.168.154.1:55009 - R:/192.168.154.128:8099]
16:29:18:660  INFO 28972 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 49 ms, version:1.5.2,role:TMROLE,channel:[id: 0x9e841dd3, L:/192.168.154.1:55009 - R:/192.168.154.128:8099]
16:29:18:660  INFO 28972 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
16:29:18:669  INFO 28972 --- [restartedMain] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
16:29:18:670  INFO 28972 --- [restartedMain] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
16:29:18:678  INFO 28972 --- [restartedMain] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
16:29:18:678  INFO 28972 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
16:29:18:678  INFO 28972 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
16:29:18:680  INFO 28972 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:29:18:837  INFO 28972 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:29:18:840  INFO 28972 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
16:29:18:986  INFO 28972 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [ec7bf671-d506-40e5-bd81-0bf119598dc9] Receive server push request, request = NotifySubscriberRequest, requestId = 857
16:29:18:988  INFO 28972 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [ec7bf671-d506-40e5-bd81-0bf119598dc9] Ack server push request, request = NotifySubscriberRequest, requestId = 857
16:29:19:354  INFO 28972 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
16:29:19:364  INFO 28972 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
16:29:19:364  INFO 28972 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
16:29:19:490  INFO 28972 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
16:29:19:490  INFO 28972 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2683 ms
16:29:19:805  WARN 28972 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
16:29:19:827  INFO 28972 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
16:29:20:132  INFO 28972 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
16:29:20:323  INFO 28972 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
16:29:20:380  INFO 28972 --- [restartedMain] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
16:29:20:381  INFO 28972 --- [restartedMain] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.154.128:3306/hm-trade
16:29:20:385  INFO 28972 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.154.128:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.154.128:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
16:29:20:407  INFO 28972 --- [restartedMain] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x5aba83e1, L:/192.168.154.1:55029 - R:/192.168.154.128:8099]
16:29:20:407  INFO 28972 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 14 ms, version:1.5.2,role:RMROLE,channel:[id: 0x5aba83e1, L:/192.168.154.1:55029 - R:/192.168.154.128:8099]
16:29:20:711  INFO 28972 --- [rpcDispatch_RMROLE_1_1_16] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.154.128:8099:36608750783121687,branchId=36608750783121692,branchType=AT,resourceId=jdbc:mysql://192.168.154.128:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
16:29:20:713  INFO 28972 --- [rpcDispatch_RMROLE_1_1_16] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.154.128:8099:36608750783121687 36608750783121692 jdbc:mysql://192.168.154.128:3306/hm-trade
16:29:20:841  INFO 28972 --- [rpcDispatch_RMROLE_1_1_16] i.s.r.d.undo.AbstractUndoLogManager      : xid 192.168.154.128:8099:36608750783121687 branch 36608750783121692, undo_log deleted with GlobalFinished
16:29:20:850  INFO 28972 --- [rpcDispatch_RMROLE_1_1_16] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
16:29:20:867  INFO 28972 --- [rpcDispatch_RMROLE_1_2_16] i.s.c.r.p.c.RmBranchRollbackProcessor    : rm handle branch rollback process:xid=192.168.154.128:8099:36608750783121687,branchId=36608750783121690,branchType=AT,resourceId=jdbc:mysql://192.168.154.128:3306/hm-trade,applicationData={"skipCheckLock":true}
16:29:20:867  INFO 28972 --- [rpcDispatch_RMROLE_1_2_16] io.seata.rm.AbstractRMHandler            : Branch Rollbacking: 192.168.154.128:8099:36608750783121687 36608750783121690 jdbc:mysql://192.168.154.128:3306/hm-trade
16:29:20:888  INFO 28972 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
16:29:20:898  INFO 28972 --- [rpcDispatch_RMROLE_1_2_16] i.s.r.d.undo.AbstractUndoLogManager      : xid 192.168.154.128:8099:36608750783121687 branch 36608750783121690, undo_log deleted with GlobalFinished
16:29:20:899  INFO 28972 --- [rpcDispatch_RMROLE_1_2_16] io.seata.rm.AbstractRMHandler            : Branch Rollbacked result: PhaseTwo_Rollbacked
16:29:20:985  INFO 28972 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$e031ca83] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
16:29:21:019  INFO 28972 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'pay-service' URL not provided. Will try picking an instance via load-balancing.
16:29:21:245  INFO 28972 --- [restartedMain] c.a.c.sentinel.SentinelWebMvcConfigurer  : [Sentinel Starter] register SentinelWebInterceptor with urlPatterns: [/**].
16:29:22:985  INFO 28972 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
16:29:23:037  INFO 28972 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
16:29:24:306  INFO 28972 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
16:29:24:474  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of 03e5c84a-1bf8-4465-b5c4-f969cff213d9
16:29:24:475  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] RpcClient init label, labels = {module=naming, source=sdk}
16:29:24:475  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
16:29:24:475  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
16:29:24:475  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
16:29:24:475  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Try to connect to server on start up, server: {serverIp = '192.168.154.128', server main port = 8848}
16:29:24:589  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Success to connect to server [192.168.154.128:8848] on start up, connectionId = 1730449764466_192.168.154.1_55042
16:29:24:589  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
16:29:24:589  INFO 28972 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Notify connected event to listeners.
16:29:24:589  INFO 28972 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$486/0x000000080045d840
16:29:24:610  INFO 28972 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
16:29:24:617  INFO 28972 --- [restartedMain] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.154.1:8085 register finished
16:29:25:142  INFO 28972 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Receive server push request, request = NotifySubscriberRequest, requestId = 859
16:29:25:143  INFO 28972 --- [nacos-grpc-client-executor-6] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Ack server push request, request = NotifySubscriberRequest, requestId = 859
16:29:25:702  INFO 28972 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
16:29:25:702  INFO 28972 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
16:29:25:704  INFO 28972 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
16:29:25:725  INFO 28972 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
16:29:25:785  INFO 28972 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.154.128:5672]
16:29:25:812  INFO 28972 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1c2e196f:0/SimpleConnection@85b9be [delegate=amqp://hmall@192.168.154.128:5672//hmall, localPort= 55047]
16:29:25:871  INFO 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.trade.listener.OrderCreateListener   : 监听到清空购物车的消息，用户ID：1，商品ID：(Body:'[1533902,100001320053]' MessageProperties [headers={userId=1}, contentType=text/plain, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=true, receivedExchange=trade.topic, receivedRoutingKey=order.create, deliveryTag=1, consumerTag=amq.ctag-oHVB6Qu5r89cRx2W6cjdGQ, consumerQueue=cart.clear.queue])
16:29:25:889  INFO 28972 --- [restartedMain] com.hmall.trade.TradeApplication         : Started TradeApplication in 13.002 seconds (JVM running for 13.724)
16:29:25:894  INFO 28972 --- [restartedMain] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
16:29:25:895  INFO 28972 --- [restartedMain] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
16:29:25:896  INFO 28972 --- [restartedMain] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
16:29:25:898 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:29:25:906 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1852262720968101890(Long)
16:29:25:922 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:29:26:032 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.PayClient           : [PayClient#queryPayOrderByBizOrderNo] ---> GET http://pay-service/pay-orders/biz/1852262720968101890 HTTP/1.1
16:29:26:032 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.PayClient           : [PayClient#queryPayOrderByBizOrderNo] ---> END HTTP (0-byte body)
16:29:26:032 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=1533902&ids=100001320053 HTTP/1.1
16:29:26:032 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
16:29:26:032 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
16:29:26:233 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.PayClient           : [PayClient#queryPayOrderByBizOrderNo] <--- HTTP/1.1 200  (201ms)
16:29:26:233 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.PayClient           : [PayClient#queryPayOrderByBizOrderNo] connection: keep-alive
16:29:26:233 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.PayClient           : [PayClient#queryPayOrderByBizOrderNo] content-length: 0
16:29:26:233 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.PayClient           : [PayClient#queryPayOrderByBizOrderNo] date: Fri, 01 Nov 2024 08:29:26 GMT
16:29:26:233 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.PayClient           : [PayClient#queryPayOrderByBizOrderNo] keep-alive: timeout=60
16:29:26:233 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.PayClient           : [PayClient#queryPayOrderByBizOrderNo] <--- END HTTP (0-byte body)
16:29:26:241 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200  (208ms)
16:29:26:241 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
16:29:26:241 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
16:29:26:241 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Fri, 01 Nov 2024 08:29:26 GMT
16:29:26:241 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
16:29:26:241 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
16:29:26:269 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.hmall.trade.mapper.OrderMapper.update  : ==>  Preparing: UPDATE `order` SET status=? WHERE (id = ?)
16:29:26:274 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.hmall.trade.mapper.OrderMapper.update  : ==> Parameters: 5(Integer), 1852262720968101890(Long)
16:29:26:276 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.hmall.trade.mapper.OrderMapper.update  : <==    Updates: 1
16:29:26:282 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.h.t.m.OrderDetailMapper.selectList     : ==>  Preparing: SELECT id,order_id,item_id,num,name,spec,price,image,create_time,update_time FROM order_detail WHERE (order_id = ?)
16:29:26:282 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.h.t.m.OrderDetailMapper.selectList     : ==> Parameters: 1852262720968101890(Long)
16:29:26:284 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.h.t.m.OrderDetailMapper.selectList     : <==      Total: 2
16:29:26:329 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.ItemClient          : [ItemClient#restoreStock] ---> PUT http://item-service/items/stock/restore HTTP/1.1
16:29:26:329 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.ItemClient          : [ItemClient#restoreStock] Content-Length: 64
16:29:26:329 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.ItemClient          : [ItemClient#restoreStock] Content-Type: application/json
16:29:26:329 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.ItemClient          : [ItemClient#restoreStock] 
16:29:26:329 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.ItemClient          : [ItemClient#restoreStock] [{"itemId":"1533902","num":1},{"itemId":"100001320053","num":1}]
16:29:26:329 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.ItemClient          : [ItemClient#restoreStock] ---> END HTTP (64-byte body)
16:29:26:360 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.ItemClient          : [ItemClient#restoreStock] <--- HTTP/1.1 200  (30ms)
16:29:26:360 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.ItemClient          : [ItemClient#restoreStock] connection: keep-alive
16:29:26:360 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.ItemClient          : [ItemClient#restoreStock] content-length: 0
16:29:26:360 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.ItemClient          : [ItemClient#restoreStock] date: Fri, 01 Nov 2024 08:29:26 GMT
16:29:26:360 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.ItemClient          : [ItemClient#restoreStock] keep-alive: timeout=60
16:29:26:360 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.hmall.api.client.ItemClient          : [ItemClient#restoreStock] <--- END HTTP (0-byte body)
16:29:26:651  INFO 28972 --- [nacos-grpc-client-executor-12] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Receive server push request, request = NotifySubscriberRequest, requestId = 860
16:29:26:651  INFO 28972 --- [nacos-grpc-client-executor-12] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Ack server push request, request = NotifySubscriberRequest, requestId = 860
16:29:26:656  INFO 28972 --- [nacos-grpc-client-executor-13] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Receive server push request, request = NotifySubscriberRequest, requestId = 861
16:29:26:657  INFO 28972 --- [nacos-grpc-client-executor-13] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Ack server push request, request = NotifySubscriberRequest, requestId = 861
16:29:26:859  INFO 28972 --- [nacos-grpc-client-executor-14] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Receive server push request, request = NotifySubscriberRequest, requestId = 862
16:29:26:859  INFO 28972 --- [nacos-grpc-client-executor-14] com.alibaba.nacos.common.remote.client   : [03e5c84a-1bf8-4465-b5c4-f969cff213d9] Ack server push request, request = NotifySubscriberRequest, requestId = 862
16:29:43:493  INFO 28972 --- [http-nio-8085-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
16:29:43:493  INFO 28972 --- [http-nio-8085-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
16:29:43:495  INFO 28972 --- [http-nio-8085-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
16:29:43:520  INFO 28972 --- [http-nio-8085-exec-2] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@2e1b1541
16:29:43:535  INFO 28972 --- [http-nio-8085-exec-2] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.154.128:8099:36608750783122215]
16:29:43:536 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=1533902 HTTP/1.1
16:29:43:536 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] user-info: 1
16:29:43:536 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
16:29:43:546 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- HTTP/1.1 200  (9ms)
16:29:43:546 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] connection: keep-alive
16:29:43:546 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] content-type: application/json
16:29:43:546 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] date: Fri, 01 Nov 2024 08:29:43 GMT
16:29:43:546 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] keep-alive: timeout=60
16:29:43:546 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] transfer-encoding: chunked
16:29:43:546 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] 
16:29:43:547 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] [{"id":"1533902","name":"新西兰进口牛奶 纽仕兰 3.5g蛋白质全脂牛奶 250ml*24整箱装纯牛奶","price":9700,"stock":9986,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t3526/295/888755633/189982/16ea21b4/5816dce5N70820f42.jpg!q70.jpg.webp","category":"牛奶","brand":"纽仕兰","spec":"{}","sold":0,"commentCount":0,"isAD":false,"status":1}]
16:29:43:547 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- END HTTP (368-byte body)
16:29:43:554 DEBUG 28972 --- [http-nio-8085-exec-2] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
16:29:43:632 DEBUG 28972 --- [http-nio-8085-exec-2] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1852266759399268354(Long), 9700(Integer), 3(Integer), 1(Long), 1(Integer)
16:29:43:674 DEBUG 28972 --- [http-nio-8085-exec-2] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
16:29:43:680 DEBUG 28972 --- [http-nio-8085-exec-2] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
16:29:43:681 DEBUG 28972 --- [http-nio-8085-exec-2] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1852266759399268354(Long), 1533902(Long), 1(Integer), 新西兰进口牛奶 纽仕兰 3.5g蛋白质全脂牛奶 250ml*24整箱装纯牛奶(String), {}(String), 9700(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t3526/295/888755633/189982/16ea21b4/5816dce5N70820f42.jpg!q70.jpg.webp(String)
16:29:43:758 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
16:29:43:758 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 30
16:29:43:758 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
16:29:43:758 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
16:29:43:758 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
16:29:43:758 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"1533902","num":1}]
16:29:43:758 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (30-byte body)
16:29:43:760  INFO 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.trade.listener.OrderCreateListener   : 监听到清空购物车的消息，用户ID：1，商品ID：(Body:'[1533902]' MessageProperties [headers={userId=1}, contentType=text/plain, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=trade.topic, receivedRoutingKey=order.create, deliveryTag=2, consumerTag=amq.ctag-oHVB6Qu5r89cRx2W6cjdGQ, consumerQueue=cart.clear.queue])
16:29:43:761 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=1533902 HTTP/1.1
16:29:43:761 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
16:29:43:761 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
16:29:43:773 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200  (12ms)
16:29:43:774 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
16:29:43:774 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
16:29:43:774 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Fri, 01 Nov 2024 08:29:43 GMT
16:29:43:774 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
16:29:43:774 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
16:29:43:801 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200  (43ms)
16:29:43:801 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
16:29:43:801 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
16:29:43:801 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 01 Nov 2024 08:29:43 GMT
16:29:43:801 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
16:29:43:801 DEBUG 28972 --- [http-nio-8085-exec-2] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
16:29:43:810  INFO 28972 --- [http-nio-8085-exec-2] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.154.128:8099:36608750783122215
16:29:43:811  INFO 28972 --- [http-nio-8085-exec-2] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.154.128:8099:36608750783122215] commit status: Committed
16:29:43:911 DEBUG 28972 --- [http-nio-8085-exec-1] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:29:43:911 DEBUG 28972 --- [http-nio-8085-exec-1] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1852266759399268354(Long)
16:29:43:913 DEBUG 28972 --- [http-nio-8085-exec-1] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:29:44:708  INFO 28972 --- [rpcDispatch_RMROLE_1_3_16] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.154.128:8099:36608750783122215,branchId=36608750783122217,branchType=AT,resourceId=jdbc:mysql://192.168.154.128:3306/hm-trade,applicationData={"skipCheckLock":true}
16:29:44:708  INFO 28972 --- [rpcDispatch_RMROLE_1_3_16] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.154.128:8099:36608750783122215 36608750783122217 jdbc:mysql://192.168.154.128:3306/hm-trade {"skipCheckLock":true}
16:29:44:708  INFO 28972 --- [rpcDispatch_RMROLE_1_3_16] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
16:29:44:712  INFO 28972 --- [rpcDispatch_RMROLE_1_4_16] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.154.128:8099:36608750783122215,branchId=36608750783122220,branchType=AT,resourceId=jdbc:mysql://192.168.154.128:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
16:29:44:712  INFO 28972 --- [rpcDispatch_RMROLE_1_4_16] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.154.128:8099:36608750783122215 36608750783122220 jdbc:mysql://192.168.154.128:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
16:29:44:712  INFO 28972 --- [rpcDispatch_RMROLE_1_4_16] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
16:29:47:210 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.h.trade.mapper.OrderMapper.updateById  : ==>  Preparing: UPDATE `order` SET status=?, pay_time=? WHERE id=?
16:29:47:210 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.h.trade.mapper.OrderMapper.updateById  : ==> Parameters: 2(Integer), 2024-11-01T16:29:47.206114700(LocalDateTime), 1852266759399268354(Long)
16:29:47:216 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.h.trade.mapper.OrderMapper.updateById  : <==    Updates: 1
16:29:47:300 DEBUG 28972 --- [http-nio-8085-exec-3] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:29:47:300 DEBUG 28972 --- [http-nio-8085-exec-3] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1852266759399268354(Long)
16:29:47:302 DEBUG 28972 --- [http-nio-8085-exec-3] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
16:44:43:811 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.h.trade.mapper.OrderMapper.selectById  : ==>  Preparing: SELECT id,total_fee,payment_type,user_id,status,create_time,pay_time,consign_time,end_time,close_time,comment_time,update_time FROM `order` WHERE id=?
16:44:43:811 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.h.trade.mapper.OrderMapper.selectById  : ==> Parameters: 1852266759399268354(Long)
16:44:43:819 DEBUG 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.h.trade.mapper.OrderMapper.selectById  : <==      Total: 1
18:40:55:719  INFO 28972 --- [rpcDispatch_RMROLE_1_5_16] i.s.c.r.p.client.RmUndoLogProcessor      : rm handle undo log process:UndoLogDeleteRequest{resourceId='jdbc:mysql://192.168.154.128:3306/hm-trade', saveDays=7, branchType=AT}
19:24:39:405  WARN 28972 --- [Thread-4] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
19:24:39:405  WARN 28972 --- [Thread-8] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
19:24:39:405  WARN 28972 --- [Thread-8] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
19:24:39:407  WARN 28972 --- [Thread-4] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
19:24:39:442  INFO 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
19:24:39:443  INFO 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
19:24:39:444  INFO 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
19:24:39:926  INFO 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
19:24:40:038  INFO 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
19:24:40:345  INFO 28972 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
19:24:40:431  INFO 28972 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
19:24:40:435  INFO 28972 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
19:24:40:745  INFO 28972 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
19:24:40:745  INFO 28972 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@3e5fa74f[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
19:24:40:746  INFO 28972 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1730449764466_192.168.154.1_55042
19:24:40:747  INFO 28972 --- [nacos-grpc-client-executor-2585] c.a.n.c.remote.client.grpc.GrpcClient    : [1730449764466_192.168.154.1_55042]Ignore complete event,isRunning:false,isAbandon=false
19:24:40:756  INFO 28972 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@693b06ef[Running, pool size = 4, active threads = 0, queued tasks = 0, completed tasks = 2586]
19:24:40:768  INFO 28972 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
19:24:40:781  INFO 28972 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
19:24:46:995  INFO 24124 --- [restartedMain] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
19:24:48:157  INFO 24124 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=84dd3782-9bc0-3e16-a79f-20b1e631aa17
19:24:48:215  INFO 24124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:24:48:216  INFO 24124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:24:48:216  INFO 24124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:24:48:237  INFO 24124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:24:48:239  INFO 24124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:24:48:240  INFO 24124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:24:48:241  INFO 24124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$582/0x0000000800694c40] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:24:48:242  INFO 24124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:24:48:245  INFO 24124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:24:48:246  INFO 24124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:24:48:247  INFO 24124 --- [restartedMain] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
19:24:48:287  INFO 24124 --- [restartedMain] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
19:24:48:290  INFO 24124 --- [restartedMain] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
19:24:48:330  INFO 24124 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
19:24:48:381  INFO 24124 --- [restartedMain] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
19:24:48:517  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of cf5e58d2-47cd-45a7-ba21-4db6e9b2155d
19:24:48:517  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] RpcClient init label, labels = {module=naming, source=sdk}
19:24:48:519  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
19:24:48:519  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
19:24:48:519  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
19:24:48:519  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Try to connect to server on start up, server: {serverIp = '192.168.154.128', server main port = 8848}
19:24:48:632  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Success to connect to server [192.168.154.128:8848] on start up, connectionId = 1730460288510_192.168.154.1_52175
19:24:48:632  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
19:24:48:632  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$486/0x0000000800465840
19:24:48:632  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Notify connected event to listeners.
19:24:48:660  INFO 24124 --- [restartedMain] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
19:24:48:721  INFO 24124 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.154.128:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
19:24:48:857  INFO 24124 --- [restartedMain] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x29281d50, L:/192.168.154.1:52176 - R:/192.168.154.128:8099]
19:24:48:861  INFO 24124 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 40 ms, version:1.5.2,role:TMROLE,channel:[id: 0x29281d50, L:/192.168.154.1:52176 - R:/192.168.154.128:8099]
19:24:48:862  INFO 24124 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
19:24:48:870  INFO 24124 --- [restartedMain] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
19:24:48:870  INFO 24124 --- [restartedMain] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
19:24:48:877  INFO 24124 --- [restartedMain] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
19:24:48:877  INFO 24124 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
19:24:48:877  INFO 24124 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
19:24:48:878  INFO 24124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:24:49:048  INFO 24124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:24:49:051  INFO 24124 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:24:49:220  INFO 24124 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Receive server push request, request = NotifySubscriberRequest, requestId = 864
19:24:49:222  INFO 24124 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Ack server push request, request = NotifySubscriberRequest, requestId = 864
19:24:49:489  INFO 24124 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
19:24:49:498  INFO 24124 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
19:24:49:498  INFO 24124 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
19:24:49:619  INFO 24124 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
19:24:49:619  INFO 24124 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2602 ms
19:24:49:958  WARN 24124 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
19:24:49:981  INFO 24124 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
19:24:50:322  INFO 24124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
19:24:50:552  INFO 24124 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
19:24:50:600  INFO 24124 --- [restartedMain] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
19:24:50:600  INFO 24124 --- [restartedMain] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.154.128:3306/hm-trade
19:24:50:600  INFO 24124 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.154.128:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.154.128:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
19:24:50:610  INFO 24124 --- [restartedMain] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0xc632aa03, L:/192.168.154.1:52182 - R:/192.168.154.128:8099]
19:24:50:610  INFO 24124 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 6 ms, version:1.5.2,role:RMROLE,channel:[id: 0xc632aa03, L:/192.168.154.1:52182 - R:/192.168.154.128:8099]
19:24:51:087  INFO 24124 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
19:24:51:145  INFO 24124 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$aa64b901] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
19:24:51:176  INFO 24124 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'pay-service' URL not provided. Will try picking an instance via load-balancing.
19:24:51:382  INFO 24124 --- [restartedMain] c.a.c.sentinel.SentinelWebMvcConfigurer  : [Sentinel Starter] register SentinelWebInterceptor with urlPatterns: [/**].
19:24:53:062  INFO 24124 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
19:24:53:113  INFO 24124 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
19:24:54:360  INFO 24124 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
19:24:54:533  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of a5c2ff93-6467-462b-b20a-bd4ba18aa1ae
19:24:54:533  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] RpcClient init label, labels = {module=naming, source=sdk}
19:24:54:534  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
19:24:54:534  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
19:24:54:534  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
19:24:54:534  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Try to connect to server on start up, server: {serverIp = '192.168.154.128', server main port = 8848}
19:24:54:650  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Success to connect to server [192.168.154.128:8848] on start up, connectionId = 1730460294527_192.168.154.1_52203
19:24:54:650  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
19:24:54:650  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Notify connected event to listeners.
19:24:54:650  INFO 24124 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$486/0x0000000800465840
19:24:54:670  INFO 24124 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
19:24:54:676  INFO 24124 --- [restartedMain] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.154.1:8085 register finished
19:24:55:201  INFO 24124 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Receive server push request, request = NotifySubscriberRequest, requestId = 865
19:24:55:202  INFO 24124 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Ack server push request, request = NotifySubscriberRequest, requestId = 865
19:24:55:753  INFO 24124 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
19:24:55:753  INFO 24124 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
19:24:55:756  INFO 24124 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
19:24:55:774  INFO 24124 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
19:24:55:829  INFO 24124 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.154.128:5672]
19:24:55:857  INFO 24124 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5d894b66:0/SimpleConnection@41021021 [delegate=amqp://hmall@192.168.154.128:5672//hmall, localPort= 52207]
19:24:55:935  INFO 24124 --- [restartedMain] com.hmall.trade.TradeApplication         : Started TradeApplication in 12.888 seconds (JVM running for 13.735)
19:24:55:940  INFO 24124 --- [restartedMain] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
19:24:55:940  INFO 24124 --- [restartedMain] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
19:24:55:940  INFO 24124 --- [restartedMain] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
19:25:02:058  INFO 24124 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
19:25:02:058  INFO 24124 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
19:25:02:059  INFO 24124 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
19:25:02:224  INFO 24124 --- [http-nio-8085-exec-1] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@28c00e86
19:25:02:243  INFO 24124 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.154.128:8099:36608750783122225]
19:25:02:251 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=100001320053 HTTP/1.1
19:25:02:251 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] user-info: 1
19:25:02:251 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
19:25:02:465 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- HTTP/1.1 200  (214ms)
19:25:02:465 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] connection: keep-alive
19:25:02:465 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] content-type: application/json
19:25:02:465 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] date: Fri, 01 Nov 2024 11:25:02 GMT
19:25:02:465 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] keep-alive: timeout=60
19:25:02:465 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] transfer-encoding: chunked
19:25:02:465 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] 
19:25:02:466 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] [{"id":"100001320053","name":"一加手机6T 8GB+128GB 亮瓷黑 光感屏幕指纹 高通骁龙845 全面屏双摄游戏手机 全网通4G 双卡双待","price":1,"stock":9969,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/6425/40/3887/217009/5bd716e9E4886d5d8/b3da975f4047ded3.jpg!q70.jpg.webp","category":"手机","brand":"一加","spec":"{\"颜色\": \"黑色\"}","sold":20,"commentCount":0,"isAD":false,"status":1}]
19:25:02:466 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- END HTTP (432-byte body)
19:25:02:506 DEBUG 24124 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
19:25:02:691 DEBUG 24124 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1852310879056433153(Long), 1(Integer), 3(Integer), 1(Long), 1(Integer)
19:25:02:767 DEBUG 24124 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
19:25:02:780 DEBUG 24124 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
19:25:02:781 DEBUG 24124 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1852310879056433153(Long), 100001320053(Long), 1(Integer), 一加手机6T 8GB+128GB 亮瓷黑 光感屏幕指纹 高通骁龙845 全面屏双摄游戏手机 全网通4G 双卡双待(String), {"颜色": "黑色"}(String), 1(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/6425/40/3887/217009/5bd716e9E4886d5d8/b3da975f4047ded3.jpg!q70.jpg.webp(String)
19:25:04:868  INFO 24124 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Receive server push request, request = NotifySubscriberRequest, requestId = 867
19:25:04:869  INFO 24124 --- [nacos-grpc-client-executor-8] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Ack server push request, request = NotifySubscriberRequest, requestId = 867
19:25:34:160  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel [id: 0xc632aa03, L:/192.168.154.1:52182 - R:/192.168.154.128:8099] read idle.
19:25:34:161  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel [id: 0x29281d50, L:/192.168.154.1:52176 - R:/192.168.154.128:8099] read idle.
19:25:34:161  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0xc632aa03, L:/192.168.154.1:52182 - R:/192.168.154.128:8099]
19:25:34:161  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x29281d50, L:/192.168.154.1:52176 - R:/192.168.154.128:8099]
19:25:34:161  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xc632aa03, L:/192.168.154.1:52182 - R:/192.168.154.128:8099]) will closed
19:25:34:161  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x29281d50, L:/192.168.154.1:52176 - R:/192.168.154.128:8099]) will closed
19:25:34:168  INFO 24124 --- [nacos-grpc-client-executor-17] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Receive server push request, request = ClientDetectionRequest, requestId = 868
19:25:34:168  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x29281d50, L:/192.168.154.1:52176 ! R:/192.168.154.128:8099]) will closed
19:25:34:168  INFO 24124 --- [nacos-grpc-client-executor-17] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Ack server push request, request = ClientDetectionRequest, requestId = 868
19:25:34:169  INFO 24124 --- [nacos-grpc-client-executor-10] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Receive server push request, request = ClientDetectionRequest, requestId = 869
19:25:34:169  INFO 24124 --- [nacos-grpc-client-executor-10] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Ack server push request, request = ClientDetectionRequest, requestId = 869
19:25:34:169  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x29281d50, L:/192.168.154.1:52176 ! R:/192.168.154.128:8099]
19:25:34:169  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x29281d50, L:/192.168.154.1:52176 ! R:/192.168.154.128:8099]
19:25:34:169  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x29281d50, L:/192.168.154.1:52176 ! R:/192.168.154.128:8099]
19:25:34:169  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x29281d50, L:/192.168.154.1:52176 ! R:/192.168.154.128:8099]) will closed
19:25:34:169  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x29281d50, L:/192.168.154.1:52176 ! R:/192.168.154.128:8099]) will closed
19:25:34:169  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xc632aa03, L:/192.168.154.1:52182 ! R:/192.168.154.128:8099]) will closed
19:25:34:169  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0xc632aa03, L:/192.168.154.1:52182 ! R:/192.168.154.128:8099]
19:25:34:169  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x29281d50, L:/192.168.154.1:52176 ! R:/192.168.154.128:8099]
19:25:34:170  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x29281d50, L:/192.168.154.1:52176 ! R:/192.168.154.128:8099]
19:25:34:170 ERROR 24124 --- [nacos-grpc-client-executor-17] c.a.n.c.remote.client.grpc.GrpcClient    : [1730460286700_192.168.154.1_52171]Request stream onCompleted, switch server
19:25:34:170  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x29281d50, L:/192.168.154.1:52176 ! R:/192.168.154.128:8099]
19:25:34:171  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x29281d50, L:/192.168.154.1:52176 ! R:/192.168.154.128:8099]) will closed
19:25:34:171  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x29281d50, L:/192.168.154.1:52176 ! R:/192.168.154.128:8099]) will closed
19:25:34:171 ERROR 24124 --- [nacos-grpc-client-executor-10] c.a.n.c.remote.client.grpc.GrpcClient    : [1730460288510_192.168.154.1_52175]Request stream onCompleted, switch server
19:25:34:170  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0xc632aa03, L:/192.168.154.1:52182 ! R:/192.168.154.128:8099]
19:25:34:171  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0xc632aa03, L:/192.168.154.1:52182 ! R:/192.168.154.128:8099]
19:25:34:171  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xc632aa03, L:/192.168.154.1:52182 ! R:/192.168.154.128:8099]) will closed
19:25:34:171  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xc632aa03, L:/192.168.154.1:52182 ! R:/192.168.154.128:8099]) will closed
19:25:34:171  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0xc632aa03, L:/192.168.154.1:52182 ! R:/192.168.154.128:8099]
19:25:34:171  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0xc632aa03, L:/192.168.154.1:52182 ! R:/192.168.154.128:8099]
19:25:34:171  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0xc632aa03, L:/192.168.154.1:52182 ! R:/192.168.154.128:8099]
19:25:34:171  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xc632aa03, L:/192.168.154.1:52182 ! R:/192.168.154.128:8099]) will closed
19:25:34:171  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xc632aa03, L:/192.168.154.1:52182 ! R:/192.168.154.128:8099]) will closed
19:25:34:186  INFO 24124 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Receive server push request, request = ClientDetectionRequest, requestId = 870
19:25:34:193  INFO 24124 --- [nacos-grpc-client-executor-11] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Ack server push request, request = ClientDetectionRequest, requestId = 870
19:25:34:193  INFO 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.h.trade.listener.OrderCreateListener   : 监听到清空购物车的消息，用户ID：1，商品ID：(Body:'[100001320053]' MessageProperties [headers={userId=1}, contentType=text/plain, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=trade.topic, receivedRoutingKey=order.create, deliveryTag=1, consumerTag=amq.ctag-bufyrc58cyFiFosifPFDEA, consumerQueue=cart.clear.queue])
19:25:34:194 ERROR 24124 --- [nacos-grpc-client-executor-11] c.a.n.c.remote.client.grpc.GrpcClient    : [1730460294527_192.168.154.1_52203]Request stream onCompleted, switch server
19:25:34:196  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Server healthy check fail, currentConnection = 1730460288510_192.168.154.1_52175
19:25:34:196  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Server healthy check fail, currentConnection = 1730460294527_192.168.154.1_52203
19:25:34:196  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Try to reconnect to a new server, server is  not appointed, will choose a random server.
19:25:34:196  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Server healthy check fail, currentConnection = 1730460286700_192.168.154.1_52171
19:25:34:196  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Try to reconnect to a new server, server is  not appointed, will choose a random server.
19:25:34:196  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Try to reconnect to a new server, server is  not appointed, will choose a random server.
19:25:34:198 DEBUG 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> DELETE http://cart-service/carts?ids=100001320053 HTTP/1.1
19:25:34:198 DEBUG 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] user-info: 1
19:25:34:198 DEBUG 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] ---> END HTTP (0-byte body)
19:25:34:255 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
19:25:34:256 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 35
19:25:34:257 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
19:25:34:257 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
19:25:34:258 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
19:25:34:258 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"100001320053","num":1}]
19:25:34:259 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (35-byte body)
19:25:34:313  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Success to connect a server [192.168.154.128:8848], connectionId = 1730460334188_192.168.154.1_52263
19:25:34:313  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Success to connect a server [192.168.154.128:8848], connectionId = 1730460334188_192.168.154.1_52264
19:25:34:313  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Abandon prev connection, server is 192.168.154.128:8848, connectionId is 1730460288510_192.168.154.1_52175
19:25:34:313  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Abandon prev connection, server is 192.168.154.128:8848, connectionId is 1730460294527_192.168.154.1_52203
19:25:34:313  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1730460288510_192.168.154.1_52175
19:25:34:313  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1730460294527_192.168.154.1_52203
19:25:34:315  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Try to reconnect to a new server, server is  not appointed, will choose a random server.
19:25:34:315  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Notify disconnected event to listeners
19:25:34:315  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Try to reconnect to a new server, server is  not appointed, will choose a random server.
19:25:34:315  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Notify disconnected event to listeners
19:25:34:316  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Notify connected event to listeners.
19:25:34:316  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Notify connected event to listeners.
19:25:34:336  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Success to connect a server [192.168.154.128:8848], connectionId = 1730460334190_192.168.154.1_52265
19:25:34:336  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Abandon prev connection, server is 192.168.154.128:8848, connectionId is 1730460286700_192.168.154.1_52171
19:25:34:336  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1730460286700_192.168.154.1_52171
19:25:34:336  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Try to reconnect to a new server, server is  not appointed, will choose a random server.
19:25:34:336  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Notify disconnected event to listeners
19:25:34:336  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Notify connected event to listeners.
19:25:34:340 ERROR 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.alibaba.nacos.common.remote.client   : Send request fail, request = SubscribeServiceRequest{headers={app=unknown}, requestId='null'}, retryTimes = 0, errorMessage = Client not connected, current status:UNHEALTHY
19:25:34:364 DEBUG 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- HTTP/1.1 200  (165ms)
19:25:34:364 DEBUG 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] connection: keep-alive
19:25:34:364 DEBUG 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] content-length: 0
19:25:34:364 DEBUG 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] date: Fri, 01 Nov 2024 11:25:34 GMT
19:25:34:364 DEBUG 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] keep-alive: timeout=60
19:25:34:364 DEBUG 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.hmall.api.client.CartClient          : [CartClient#deleteCartItemByIds] <--- END HTTP (0-byte body)
19:25:34:377 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- HTTP/1.1 200  (117ms)
19:25:34:378 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] connection: keep-alive
19:25:34:379 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] content-length: 0
19:25:34:379 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] date: Fri, 01 Nov 2024 11:25:34 GMT
19:25:34:380 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] keep-alive: timeout=60
19:25:34:381 DEBUG 24124 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] <--- END HTTP (0-byte body)
19:25:35:097  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Success to connect a server [192.168.154.128:8848], connectionId = 1730460334305_192.168.154.1_52267
19:25:35:097  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Abandon prev connection, server is 192.168.154.128:8848, connectionId is 1730460334188_192.168.154.1_52264
19:25:35:097  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1730460334188_192.168.154.1_52264
19:25:35:097  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Success to connect a server [192.168.154.128:8848], connectionId = 1730460334305_192.168.154.1_52268
19:25:35:097  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Abandon prev connection, server is 192.168.154.128:8848, connectionId is 1730460334188_192.168.154.1_52263
19:25:36:371  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1730460334188_192.168.154.1_52263
19:25:35:097  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Success to connect a server [192.168.154.128:8848], connectionId = 1730460334325_192.168.154.1_52269
19:25:36:372  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Abandon prev connection, server is 192.168.154.128:8848, connectionId is 1730460334190_192.168.154.1_52265
19:25:36:372  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1730460334190_192.168.154.1_52265
19:25:37:642  INFO 24124 --- [nacos-grpc-client-executor-22] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Receive server push request, request = NotifySubscriberRequest, requestId = 872
19:25:37:642  INFO 24124 --- [nacos-grpc-client-executor-22] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Ack server push request, request = NotifySubscriberRequest, requestId = 872
19:25:37:643 ERROR 24124 --- [nacos-grpc-client-executor-22] c.a.n.c.remote.client.grpc.GrpcClient    : [1730460334188_192.168.154.1_52264]Error to send ack response, ackId->872
19:25:37:644 ERROR 24124 --- [com.alibaba.nacos.client.naming.updater.2] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.ExecutionException: com.alibaba.nacos.shaded.io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdown invoked
19:25:37:646 ERROR 24124 --- [com.alibaba.nacos.client.naming.grpc.redo.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = InstanceRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.ExecutionException: com.alibaba.nacos.shaded.io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdown invoked
19:25:37:646  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Notify disconnected event to listeners
19:25:37:646  INFO 24124 --- [nacos-grpc-client-executor-25] c.a.n.c.remote.client.grpc.GrpcClient    : [1730460334188_192.168.154.1_52264]Ignore complete event,isRunning:true,isAbandon=true
19:25:37:647  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Notify disconnected event to listeners
19:25:37:647  INFO 24124 --- [nacos-grpc-client-executor-27] c.a.n.c.remote.client.grpc.GrpcClient    : [1730460334190_192.168.154.1_52265]Ignore complete event,isRunning:true,isAbandon=true
19:25:37:647  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Notify disconnected event to listeners
19:25:37:647  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Notify connected event to listeners.
19:25:37:648  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Notify connected event to listeners.
19:25:37:647  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Notify connected event to listeners.
19:25:37:648 ERROR 24124 --- [com.alibaba.nacos.client.naming.grpc.redo.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = InstanceRequest{headers={}, requestId='null'}, retryTimes = 1, errorMessage = java.util.concurrent.ExecutionException: com.alibaba.nacos.shaded.io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdown invoked
19:25:38:279  INFO 24124 --- [nacos-grpc-client-executor-18] c.a.n.c.remote.client.grpc.GrpcClient    : [1730460334188_192.168.154.1_52263]Ignore complete event,isRunning:true,isAbandon=true
19:25:38:281 ERROR 24124 --- [com.alibaba.nacos.client.naming.updater.2] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 1, errorMessage = java.util.concurrent.ExecutionException: com.alibaba.nacos.shaded.io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdown invoked
19:25:38:281 ERROR 24124 --- [com.alibaba.nacos.client.naming.grpc.redo.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = SubscribeServiceRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.ExecutionException: com.alibaba.nacos.shaded.io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdown invoked
19:25:42:515  INFO 24124 --- [nacos-grpc-client-executor-34] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Receive server push request, request = NotifySubscriberRequest, requestId = 874
19:25:42:516  INFO 24124 --- [nacos-grpc-client-executor-34] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Ack server push request, request = NotifySubscriberRequest, requestId = 874
19:25:42:516  INFO 24124 --- [nacos-grpc-client-executor-22] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Receive server push request, request = NotifySubscriberRequest, requestId = 873
19:25:42:516  INFO 24124 --- [nacos-grpc-client-executor-22] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Ack server push request, request = NotifySubscriberRequest, requestId = 873
19:25:43:271  INFO 24124 --- [nacos-grpc-client-executor-35] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Receive server push request, request = NotifySubscriberRequest, requestId = 875
19:25:43:385  INFO 24124 --- [nacos-grpc-client-executor-35] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Ack server push request, request = NotifySubscriberRequest, requestId = 875
19:25:43:387  INFO 24124 --- [nacos-grpc-client-executor-36] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Receive server push request, request = NotifySubscriberRequest, requestId = 877
19:25:43:390  INFO 24124 --- [nacos-grpc-client-executor-36] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Ack server push request, request = NotifySubscriberRequest, requestId = 877
19:25:43:393  INFO 24124 --- [http-nio-8085-exec-1] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
19:25:43:395  INFO 24124 --- [http-nio-8085-exec-1] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.154.128:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
19:25:43:401  INFO 24124 --- [http-nio-8085-exec-1] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x6d90be5e, L:/192.168.154.1:52276 - R:/192.168.154.128:8099]
19:25:43:402  INFO 24124 --- [http-nio-8085-exec-1] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 4 ms, version:1.5.2,role:TMROLE,channel:[id: 0x6d90be5e, L:/192.168.154.1:52276 - R:/192.168.154.128:8099]
19:25:43:417  INFO 24124 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Suspending current transaction, xid = 192.168.154.128:8099:36608750783122225
19:25:43:420  INFO 24124 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : [192.168.154.128:8099:36608750783122225] commit status: Committed
19:26:12:833  INFO 24124 --- [timeoutChecker_2_1] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
19:26:12:833  INFO 24124 --- [timeoutChecker_2_1] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.154.128:3306/hm-trade
19:26:12:833  INFO 24124 --- [timeoutChecker_2_1] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.154.128:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.154.128:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
19:26:12:834  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel [id: 0x6d90be5e, L:/192.168.154.1:52276 - R:/192.168.154.128:8099] read idle.
19:26:12:834  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x6d90be5e, L:/192.168.154.1:52276 - R:/192.168.154.128:8099]
19:26:12:834  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6d90be5e, L:/192.168.154.1:52276 - R:/192.168.154.128:8099]) will closed
19:26:12:834  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6d90be5e, L:/192.168.154.1:52276 ! R:/192.168.154.128:8099]) will closed
19:26:12:834  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x6d90be5e, L:/192.168.154.1:52276 ! R:/192.168.154.128:8099]
19:26:12:834  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x6d90be5e, L:/192.168.154.1:52276 ! R:/192.168.154.128:8099]
19:26:12:834  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x6d90be5e, L:/192.168.154.1:52276 ! R:/192.168.154.128:8099]
19:26:12:834  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6d90be5e, L:/192.168.154.1:52276 ! R:/192.168.154.128:8099]) will closed
19:26:12:834  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6d90be5e, L:/192.168.154.1:52276 ! R:/192.168.154.128:8099]) will closed
19:26:12:837  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x6d90be5e, L:/192.168.154.1:52276 ! R:/192.168.154.128:8099]
19:26:12:838  INFO 24124 --- [timeoutChecker_1_1] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
19:26:12:842  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x6d90be5e, L:/192.168.154.1:52276 ! R:/192.168.154.128:8099]
19:26:12:842  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x6d90be5e, L:/192.168.154.1:52276 ! R:/192.168.154.128:8099]
19:26:12:842  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6d90be5e, L:/192.168.154.1:52276 ! R:/192.168.154.128:8099]) will closed
19:26:12:842  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x6d90be5e, L:/192.168.154.1:52276 ! R:/192.168.154.128:8099]) will closed
19:26:12:842  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Server healthy check fail, currentConnection = 1730460334325_192.168.154.1_52269
19:26:12:842  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Try to reconnect to a new server, server is  not appointed, will choose a random server.
19:26:12:842  INFO 24124 --- [timeoutChecker_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.154.128:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
19:26:12:866  INFO 24124 --- [nacos-grpc-client-executor-29] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Receive server push request, request = ClientDetectionRequest, requestId = 878
19:26:12:866  INFO 24124 --- [nacos-grpc-client-executor-29] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Ack server push request, request = ClientDetectionRequest, requestId = 878
19:26:12:867  INFO 24124 --- [nacos-grpc-client-executor-29] c.a.n.c.remote.client.grpc.GrpcClient    : [1730460334325_192.168.154.1_52269]Ignore complete event,isRunning:false,isAbandon=false
19:26:12:870 ERROR 24124 --- [com.alibaba.nacos.client.naming.updater.1] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.ExecutionException: com.alibaba.nacos.shaded.io.grpc.StatusRuntimeException: UNAVAILABLE: HTTP/2 error code: NO_ERROR
Received Goaway
app_requested
19:26:12:870  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Server healthy check fail, currentConnection = 1730460334305_192.168.154.1_52268
19:26:12:870  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Try to reconnect to a new server, server is  not appointed, will choose a random server.
19:26:12:871 ERROR 24124 --- [com.alibaba.nacos.client.naming.updater.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 0, errorMessage = java.util.concurrent.ExecutionException: com.alibaba.nacos.shaded.io.grpc.StatusRuntimeException: UNAVAILABLE: HTTP/2 error code: NO_ERROR
Received Goaway
app_requested
19:26:12:871  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Server healthy check fail, currentConnection = 1730460334305_192.168.154.1_52267
19:26:12:871  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Try to reconnect to a new server, server is  not appointed, will choose a random server.
19:26:12:871  INFO 24124 --- [nacos-grpc-client-executor-23] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Receive server push request, request = ClientDetectionRequest, requestId = 879
19:26:12:872  INFO 24124 --- [nacos-grpc-client-executor-23] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Ack server push request, request = ClientDetectionRequest, requestId = 879
19:26:12:872  INFO 24124 --- [nacos-grpc-client-executor-23] c.a.n.c.remote.client.grpc.GrpcClient    : [1730460334305_192.168.154.1_52268]Ignore complete event,isRunning:false,isAbandon=false
19:26:12:876  INFO 24124 --- [nacos-grpc-client-executor-37] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Receive server push request, request = ClientDetectionRequest, requestId = 880
19:26:12:876  INFO 24124 --- [nacos-grpc-client-executor-37] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Ack server push request, request = ClientDetectionRequest, requestId = 880
19:26:12:880  INFO 24124 --- [nacos-grpc-client-executor-37] c.a.n.c.remote.client.grpc.GrpcClient    : [1730460334305_192.168.154.1_52267]Ignore complete event,isRunning:false,isAbandon=false
19:26:12:880  INFO 24124 --- [timeoutChecker_1_1] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0x372a834a, L:/192.168.154.1:52308 - R:/192.168.154.128:8099]
19:26:12:881  INFO 24124 --- [timeoutChecker_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 37 ms, version:1.5.2,role:TMROLE,channel:[id: 0x372a834a, L:/192.168.154.1:52308 - R:/192.168.154.128:8099]
19:26:12:881  INFO 24124 --- [timeoutChecker_2_1] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0xf7bebf12, L:/192.168.154.1:52307 - R:/192.168.154.128:8099]
19:26:12:881  INFO 24124 --- [timeoutChecker_2_1] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 43 ms, version:1.5.2,role:RMROLE,channel:[id: 0xf7bebf12, L:/192.168.154.1:52307 - R:/192.168.154.128:8099]
19:26:12:890  WARN 24124 --- [Thread-8] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Start destroying Publisher
19:26:12:890  WARN 24124 --- [Thread-4] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Start destroying common HttpClient
19:26:12:890  WARN 24124 --- [Thread-8] c.a.nacos.common.notify.NotifyCenter     : [NotifyCenter] Destruction of the end
19:26:12:891  WARN 24124 --- [Thread-4] c.a.n.common.http.HttpClientBeanHolder   : [HttpClientBeanHolder] Destruction of the end
19:26:12:900  INFO 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
19:26:12:901  INFO 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
19:26:12:902  INFO 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
19:26:12:971 ERROR 24124 --- [com.alibaba.nacos.client.naming.updater.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 1, errorMessage = Client not connected, current status:UNHEALTHY
19:26:12:982  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Success to connect a server [192.168.154.128:8848], connectionId = 1730460372856_192.168.154.1_52309
19:26:12:982  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Abandon prev connection, server is 192.168.154.128:8848, connectionId is 1730460334325_192.168.154.1_52269
19:26:12:982  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1730460334325_192.168.154.1_52269
19:26:12:983  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Notify disconnected event to listeners
19:26:12:984  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [90aa8e9c-0399-4d92-b64f-ef9b9c2821b4_config-0] Notify connected event to listeners.
19:26:12:987  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Success to connect a server [192.168.154.128:8848], connectionId = 1730460372862_192.168.154.1_52312
19:26:12:987  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Success to connect a server [192.168.154.128:8848], connectionId = 1730460372862_192.168.154.1_52311
19:26:12:987  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Abandon prev connection, server is 192.168.154.128:8848, connectionId is 1730460334305_192.168.154.1_52267
19:26:12:987  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Abandon prev connection, server is 192.168.154.128:8848, connectionId is 1730460334305_192.168.154.1_52268
19:26:12:987  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1730460334305_192.168.154.1_52267
19:26:12:987  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : Close current connection 1730460334305_192.168.154.1_52268
19:26:12:988  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Notify disconnected event to listeners
19:26:12:988  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Notify disconnected event to listeners
19:26:12:989  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [a5c2ff93-6467-462b-b20a-bd4ba18aa1ae] Notify connected event to listeners.
19:26:12:990  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Notify connected event to listeners.
19:26:12:992 ERROR 24124 --- [com.alibaba.nacos.client.naming.updater.1] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 1, errorMessage = Connection is unregistered.
19:26:13:072 ERROR 24124 --- [com.alibaba.nacos.client.naming.updater.0] com.alibaba.nacos.common.remote.client   : Send request fail, request = ServiceQueryRequest{headers={}, requestId='null'}, retryTimes = 2, errorMessage = Client not connected, current status:UNHEALTHY
19:26:13:074  INFO 24124 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [cf5e58d2-47cd-45a7-ba21-4db6e9b2155d] Server check success, currentServer is 192.168.154.128:8848 
19:26:13:710  INFO 24124 --- [rpcDispatch_RMROLE_1_1_16] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.154.128:8099:36608750783122225,branchId=36608750783122228,branchType=AT,resourceId=jdbc:mysql://192.168.154.128:3306/hm-trade,applicationData={"skipCheckLock":true}
19:26:13:712  INFO 24124 --- [rpcDispatch_RMROLE_1_1_16] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.154.128:8099:36608750783122225 36608750783122228 jdbc:mysql://192.168.154.128:3306/hm-trade {"skipCheckLock":true}
19:26:13:712  INFO 24124 --- [rpcDispatch_RMROLE_1_1_16] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
19:26:13:717  INFO 24124 --- [rpcDispatch_RMROLE_1_2_16] i.s.c.r.p.c.RmBranchCommitProcessor      : rm client handle branch commit process:xid=192.168.154.128:8099:36608750783122225,branchId=36608750783122230,branchType=AT,resourceId=jdbc:mysql://192.168.154.128:3306/hm-trade,applicationData={"autoCommit":false,"skipCheckLock":true}
19:26:13:717  INFO 24124 --- [rpcDispatch_RMROLE_1_2_16] io.seata.rm.AbstractRMHandler            : Branch committing: 192.168.154.128:8099:36608750783122225 36608750783122230 jdbc:mysql://192.168.154.128:3306/hm-trade {"autoCommit":false,"skipCheckLock":true}
19:26:13:717  INFO 24124 --- [rpcDispatch_RMROLE_1_2_16] io.seata.rm.AbstractRMHandler            : Branch commit result: PhaseTwo_Committed
19:26:13:840  INFO 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
19:26:13:840  INFO 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
19:26:13:840  INFO 24124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
19:26:13:906  INFO 24124 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registering from Nacos Server now...
19:26:13:909  INFO 24124 --- [SpringContextShutdownHook] c.a.c.n.registry.NacosServiceRegistry    : De-registration finished.
19:26:14:215  INFO 24124 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown rpc client, set status to shutdown
19:26:14:215  INFO 24124 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@4dd0fdd[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
19:26:14:215  INFO 24124 --- [SpringContextShutdownHook] com.alibaba.nacos.common.remote.client   : Close current connection 1730460372862_192.168.154.1_52312
19:26:14:215  INFO 24124 --- [SpringContextShutdownHook] c.a.n.c.remote.client.grpc.GrpcClient    : Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1f796506[Running, pool size = 11, active threads = 0, queued tasks = 0, completed tasks = 48]
19:26:14:226  INFO 24124 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
19:26:14:237  INFO 24124 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
19:26:14:241  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0x372a834a, L:/192.168.154.1:52308 ! R:/192.168.154.128:8099]
19:26:14:241  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0x372a834a, L:/192.168.154.1:52308 ! R:/192.168.154.128:8099]
19:26:14:241  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0x372a834a, L:/192.168.154.1:52308 ! R:/192.168.154.128:8099]
19:26:14:241  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0x372a834a, L:/192.168.154.1:52308 ! R:/192.168.154.128:8099]
19:26:14:241  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x372a834a, L:/192.168.154.1:52308 ! R:/192.168.154.128:8099]) will closed
19:26:14:241  INFO 24124 --- [NettyClientSelector_TMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0x372a834a, L:/192.168.154.1:52308 ! R:/192.168.154.128:8099]) will closed
19:26:14:242  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : channel inactive: [id: 0xf7bebf12, L:/192.168.154.1:52307 ! R:/192.168.154.128:8099]
19:26:14:242  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.netty.NettyClientChannelManager  : return to pool, rm channel:[id: 0xf7bebf12, L:/192.168.154.1:52307 ! R:/192.168.154.128:8099]
19:26:14:242  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : channel valid false,channel:[id: 0xf7bebf12, L:/192.168.154.1:52307 ! R:/192.168.154.128:8099]
19:26:14:242  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.core.rpc.netty.NettyPoolableFactory  : will destroy channel:[id: 0xf7bebf12, L:/192.168.154.1:52307 ! R:/192.168.154.128:8099]
19:26:14:242  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xf7bebf12, L:/192.168.154.1:52307 ! R:/192.168.154.128:8099]) will closed
19:26:14:242  INFO 24124 --- [NettyClientSelector_RMROLE_1_1] i.s.c.r.n.AbstractNettyRemotingClient    : ChannelHandlerContext(AbstractNettyRemotingClient$ClientHandler#0, [id: 0xf7bebf12, L:/192.168.154.1:52307 ! R:/192.168.154.128:8099]) will closed
19:26:20:332  INFO 23112 --- [restartedMain] com.hmall.trade.TradeApplication         : The following 1 profile is active: "local"
19:26:21:415  INFO 23112 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=84dd3782-9bc0-3e16-a79f-20b1e631aa17
19:26:21:474  INFO 23112 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataCoreAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:26:21:474  INFO 23112 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'springApplicationContextProvider' of type [io.seata.spring.boot.autoconfigure.provider.SpringApplicationContextProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:26:21:475  INFO 23112 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:26:21:499  INFO 23112 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'failureHandler' of type [io.seata.tm.api.DefaultFailureHandlerImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:26:21:501  INFO 23112 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:26:21:502  INFO 23112 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:26:21:503  INFO 23112 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$582/0x0000000800694c40] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:26:21:503  INFO 23112 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:26:21:506  INFO 23112 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'springCloudAlibabaConfiguration' of type [io.seata.spring.boot.autoconfigure.properties.SpringCloudAlibabaConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:26:21:507  INFO 23112 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'seataProperties' of type [io.seata.spring.boot.autoconfigure.properties.SeataProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:26:21:509  INFO 23112 --- [restartedMain] i.s.s.b.a.SeataAutoConfiguration         : Automatically configure Seata
19:26:21:548  INFO 23112 --- [restartedMain] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
19:26:21:551  INFO 23112 --- [restartedMain] io.seata.config.ConfigurationFactory     : load Configuration from :Spring Configuration
19:26:21:594  INFO 23112 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Initializing Global Transaction Clients ... 
19:26:21:648  INFO 23112 --- [restartedMain] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
19:26:21:769  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of bd255545-bf7a-42d1-b2e6-f5d6c1a25da0
19:26:21:769  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [bd255545-bf7a-42d1-b2e6-f5d6c1a25da0] RpcClient init label, labels = {module=naming, source=sdk}
19:26:21:771  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [bd255545-bf7a-42d1-b2e6-f5d6c1a25da0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
19:26:21:771  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [bd255545-bf7a-42d1-b2e6-f5d6c1a25da0] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
19:26:21:771  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [bd255545-bf7a-42d1-b2e6-f5d6c1a25da0] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
19:26:21:771  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [bd255545-bf7a-42d1-b2e6-f5d6c1a25da0] Try to connect to server on start up, server: {serverIp = '192.168.154.128', server main port = 8848}
19:26:21:886  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [bd255545-bf7a-42d1-b2e6-f5d6c1a25da0] Success to connect to server [192.168.154.128:8848] on start up, connectionId = 1730460381763_192.168.154.1_52378
19:26:21:886  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [bd255545-bf7a-42d1-b2e6-f5d6c1a25da0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
19:26:21:886  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [bd255545-bf7a-42d1-b2e6-f5d6c1a25da0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$486/0x0000000800465840
19:26:21:886  INFO 23112 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [bd255545-bf7a-42d1-b2e6-f5d6c1a25da0] Notify connected event to listeners.
19:26:21:915  INFO 23112 --- [restartedMain] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
19:26:21:972  INFO 23112 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:TMROLE,address:192.168.154.128:8099,msg:< RegisterTMRequest{applicationId='trade-service', transactionServiceGroup='hmall'} >
19:26:22:114  INFO 23112 --- [restartedMain] i.s.c.rpc.netty.TmNettyRemotingClient    : register TM success. client version:1.5.2, server version:1.5.2,channel:[id: 0xc3754d50, L:/192.168.154.1:52379 - R:/192.168.154.128:8099]
19:26:22:120  INFO 23112 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 43 ms, version:1.5.2,role:TMROLE,channel:[id: 0xc3754d50, L:/192.168.154.1:52379 - R:/192.168.154.128:8099]
19:26:22:121  INFO 23112 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Transaction Manager Client is initialized. applicationId[trade-service] txServiceGroup[hmall]
19:26:22:127  INFO 23112 --- [restartedMain] io.seata.rm.datasource.AsyncWorker       : Async Commit Buffer Limit: 10000
19:26:22:128  INFO 23112 --- [restartedMain] i.s.rm.datasource.xa.ResourceManagerXA   : ResourceManagerXA init ...
19:26:22:134  INFO 23112 --- [restartedMain] i.s.core.rpc.netty.NettyClientBootstrap  : NettyClientBootstrap has started
19:26:22:134  INFO 23112 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Resource Manager is initialized. applicationId[trade-service] txServiceGroup[hmall]
19:26:22:135  INFO 23112 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Global Transaction Clients are initialized. 
19:26:22:136  INFO 23112 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration' of type [io.seata.spring.boot.autoconfigure.SeataDataSourceAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:26:22:302  INFO 23112 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration' of type [com.alibaba.cloud.seata.feign.SeataFeignClientAutoConfiguration$FeignBeanPostProcessorConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:26:22:304  INFO 23112 --- [restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'seataFeignObjectWrapper' of type [com.alibaba.cloud.seata.feign.SeataFeignObjectWrapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
19:26:22:499  INFO 23112 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [bd255545-bf7a-42d1-b2e6-f5d6c1a25da0] Receive server push request, request = NotifySubscriberRequest, requestId = 882
19:26:22:500  INFO 23112 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [bd255545-bf7a-42d1-b2e6-f5d6c1a25da0] Ack server push request, request = NotifySubscriberRequest, requestId = 882
19:26:22:696  INFO 23112 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8085 (http)
19:26:22:705  INFO 23112 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
19:26:22:705  INFO 23112 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
19:26:22:812  INFO 23112 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
19:26:22:812  INFO 23112 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2465 ms
19:26:23:126  WARN 23112 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
19:26:23:148  INFO 23112 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'item-service' URL not provided. Will try picking an instance via load-balancing.
19:26:23:438  INFO 23112 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
19:26:23:623  INFO 23112 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
19:26:23:672  INFO 23112 --- [restartedMain] i.s.c.r.netty.NettyClientChannelManager  : will connect to 192.168.154.128:8099
19:26:23:672  INFO 23112 --- [restartedMain] i.s.c.rpc.netty.RmNettyRemotingClient    : RM will register :jdbc:mysql://192.168.154.128:3306/hm-trade
19:26:23:672  INFO 23112 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : NettyPool create channel to transactionRole:RMROLE,address:192.168.154.128:8099,msg:< RegisterRMRequest{resourceIds='jdbc:mysql://192.168.154.128:3306/hm-trade', applicationId='trade-service', transactionServiceGroup='hmall'} >
19:26:23:684  INFO 23112 --- [restartedMain] i.s.c.rpc.netty.RmNettyRemotingClient    : register RM success. client version:1.5.2, server version:1.5.2,channel:[id: 0xbf4bdb86, L:/192.168.154.1:52383 - R:/192.168.154.128:8099]
19:26:23:685  INFO 23112 --- [restartedMain] i.s.core.rpc.netty.NettyPoolableFactory  : register success, cost 10 ms, version:1.5.2,role:RMROLE,channel:[id: 0xbf4bdb86, L:/192.168.154.1:52383 - R:/192.168.154.128:8099]
19:26:24:153  INFO 23112 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'cart-service' URL not provided. Will try picking an instance via load-balancing.
19:26:24:209  INFO 23112 --- [restartedMain] i.s.s.a.GlobalTransactionScanner         : Bean[com.hmall.trade.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$6b8b6237] with name [orderServiceImpl] would use interceptor [io.seata.spring.annotation.GlobalTransactionalInterceptor]
19:26:24:242  INFO 23112 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'pay-service' URL not provided. Will try picking an instance via load-balancing.
19:26:24:434  INFO 23112 --- [restartedMain] c.a.c.sentinel.SentinelWebMvcConfigurer  : [Sentinel Starter] register SentinelWebInterceptor with urlPatterns: [/**].
19:26:26:092  INFO 23112 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
19:26:26:139  INFO 23112 --- [restartedMain] pertySourcedRequestMappingHandlerMapping : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2ControllerWebMvc#getDocumentation(String, HttpServletRequest)]
19:26:27:387  INFO 23112 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
19:26:27:552  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [RpcClientFactory] create a new rpc client of daab0213-e372-44ad-955a-3740007a0d5a
19:26:27:552  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [daab0213-e372-44ad-955a-3740007a0d5a] RpcClient init label, labels = {module=naming, source=sdk}
19:26:27:553  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [daab0213-e372-44ad-955a-3740007a0d5a] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
19:26:27:553  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [daab0213-e372-44ad-955a-3740007a0d5a] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
19:26:27:553  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [daab0213-e372-44ad-955a-3740007a0d5a] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
19:26:27:553  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [daab0213-e372-44ad-955a-3740007a0d5a] Try to connect to server on start up, server: {serverIp = '192.168.154.128', server main port = 8848}
19:26:27:668  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [daab0213-e372-44ad-955a-3740007a0d5a] Success to connect to server [192.168.154.128:8848] on start up, connectionId = 1730460387544_192.168.154.1_52398
19:26:27:668  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [daab0213-e372-44ad-955a-3740007a0d5a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
19:26:27:668  INFO 23112 --- [com.alibaba.nacos.client.remote.worker] com.alibaba.nacos.common.remote.client   : [daab0213-e372-44ad-955a-3740007a0d5a] Notify connected event to listeners.
19:26:27:668  INFO 23112 --- [restartedMain] com.alibaba.nacos.common.remote.client   : [daab0213-e372-44ad-955a-3740007a0d5a] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$486/0x0000000800465840
19:26:27:684  INFO 23112 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8085 (http) with context path ''
19:26:27:691  INFO 23112 --- [restartedMain] c.a.c.n.registry.NacosServiceRegistry    : nacos registry, DEFAULT_GROUP trade-service 192.168.154.1:8085 register finished
19:26:28:242  INFO 23112 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [daab0213-e372-44ad-955a-3740007a0d5a] Receive server push request, request = NotifySubscriberRequest, requestId = 884
19:26:28:243  INFO 23112 --- [nacos-grpc-client-executor-5] com.alibaba.nacos.common.remote.client   : [daab0213-e372-44ad-955a-3740007a0d5a] Ack server push request, request = NotifySubscriberRequest, requestId = 884
19:26:28:775  INFO 23112 --- [restartedMain] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
19:26:28:775  INFO 23112 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Documentation plugins bootstrapped
19:26:28:778  INFO 23112 --- [restartedMain] d.s.w.p.DocumentationPluginsBootstrapper : Found 1 custom documentation plugin(s)
19:26:28:798  INFO 23112 --- [restartedMain] s.d.s.w.s.ApiListingReferenceScanner     : Scanning for api listing references
19:26:28:852  INFO 23112 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.154.128:5672]
19:26:28:874  INFO 23112 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#227d28bc:0/SimpleConnection@7c446e53 [delegate=amqp://hmall@192.168.154.128:5672//hmall, localPort= 52402]
19:26:28:937  INFO 23112 --- [restartedMain] com.hmall.trade.TradeApplication         : Started TradeApplication in 12.413 seconds (JVM running for 13.187)
19:26:28:940  INFO 23112 --- [restartedMain] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service, group=DEFAULT_GROUP
19:26:28:941  INFO 23112 --- [restartedMain] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service-local.yaml, group=DEFAULT_GROUP
19:26:28:941  INFO 23112 --- [restartedMain] c.a.c.n.refresh.NacosContextRefresher    : [Nacos Config] Listening config: dataId=trade-service.yaml, group=DEFAULT_GROUP
19:26:38:074  INFO 23112 --- [http-nio-8085-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
19:26:38:075  INFO 23112 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
19:26:38:076  INFO 23112 --- [http-nio-8085-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
19:26:38:215  INFO 23112 --- [http-nio-8085-exec-1] io.seata.tm.TransactionManagerHolder     : TransactionManager Singleton io.seata.tm.DefaultTransactionManager@7aaaab6f
19:26:38:232  INFO 23112 --- [http-nio-8085-exec-1] i.seata.tm.api.DefaultGlobalTransaction  : Begin new global transaction [192.168.154.128:8099:36608750783122305]
19:26:38:241 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> GET http://item-service/items?ids=100001320053 HTTP/1.1
19:26:38:241 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] user-info: 1
19:26:38:241 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] ---> END HTTP (0-byte body)
19:26:38:413 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- HTTP/1.1 200  (171ms)
19:26:38:413 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] connection: keep-alive
19:26:38:413 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] content-type: application/json
19:26:38:413 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] date: Fri, 01 Nov 2024 11:26:38 GMT
19:26:38:413 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] keep-alive: timeout=60
19:26:38:413 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] transfer-encoding: chunked
19:26:38:413 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] 
19:26:38:414 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] [{"id":"100001320053","name":"一加手机6T 8GB+128GB 亮瓷黑 光感屏幕指纹 高通骁龙845 全面屏双摄游戏手机 全网通4G 双卡双待","price":1,"stock":9968,"image":"https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/6425/40/3887/217009/5bd716e9E4886d5d8/b3da975f4047ded3.jpg!q70.jpg.webp","category":"手机","brand":"一加","spec":"{\"颜色\": \"黑色\"}","sold":20,"commentCount":0,"isAD":false,"status":1}]
19:26:38:414 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#queryItemByIds] <--- END HTTP (432-byte body)
19:26:38:454 DEBUG 23112 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==>  Preparing: INSERT INTO `order` ( id, total_fee, payment_type, user_id, status ) VALUES ( ?, ?, ?, ?, ? )
19:26:38:597 DEBUG 23112 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : ==> Parameters: 1852311281491513345(Long), 1(Integer), 3(Integer), 1(Long), 1(Integer)
19:26:38:676 DEBUG 23112 --- [http-nio-8085-exec-1] c.hmall.trade.mapper.OrderMapper.insert  : <==    Updates: 1
19:26:38:690 DEBUG 23112 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==>  Preparing: INSERT INTO order_detail ( order_id, item_id, num, name, spec, price, image ) VALUES ( ?, ?, ?, ?, ?, ?, ? )
19:26:38:691 DEBUG 23112 --- [http-nio-8085-exec-1] c.h.t.mapper.OrderDetailMapper.insert    : ==> Parameters: 1852311281491513345(Long), 100001320053(Long), 1(Integer), 一加手机6T 8GB+128GB 亮瓷黑 光感屏幕指纹 高通骁龙845 全面屏双摄游戏手机 全网通4G 双卡双待(String), {"颜色": "黑色"}(String), 1(Integer), https://m.360buyimg.com/mobilecms/s720x720_jfs/t1/6425/40/3887/217009/5bd716e9E4886d5d8/b3da975f4047ded3.jpg!q70.jpg.webp(String)
19:26:38:756 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> PUT http://item-service/items/stock/deduct HTTP/1.1
19:26:38:756 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Length: 35
19:26:38:756 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] Content-Type: application/json
19:26:38:756 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] user-info: 1
19:26:38:757 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] 
19:26:38:757 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] [{"itemId":"100001320053","num":1}]
19:26:38:757 DEBUG 23112 --- [http-nio-8085-exec-1] com.hmall.api.client.ItemClient          : [ItemClient#deductStock] ---> END HTTP (35-byte body)
